<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="Eulus"><meta name="copyright" content="Eulus"><meta name="generator" content="Hexo 7.3.0"><meta name="theme" content="hexo-theme-yun"><title>30分钟学会Vue | Eulus's Blog</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.4.1/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/png" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"elaina-1017.xyz","root":"/","title":"魔女之旅","version":"1.10.11","mode":"light","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"搜索...","empty":"找不到您查询的内容: ${query}","hits":"找到 ${hits} 条结果","hits_time":"找到 ${hits} 条结果（用时 ${time} 毫秒）"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"local_search":{"path":"/search.xml"},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><meta name="description" content="笔记来源----吴悠讲编程">
<meta property="og:type" content="article">
<meta property="og:title" content="30分钟学会Vue">
<meta property="og:url" content="http://elaina-1017.xyz/posts/VueNote/index.html">
<meta property="og:site_name" content="Eulus&#39;s Blog">
<meta property="og:description" content="笔记来源----吴悠讲编程">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://elaina-1017.xyz/posts/VueNote/0423fa51789c2f54ed5f8784310c5aa9a3f2f3f1.jpg">
<meta property="og:image" content="http://elaina-1017.xyz/posts/VueNote/830bd2954788092beaffc106faac772.png">
<meta property="article:published_time" content="2024-10-13T07:36:17.000Z">
<meta property="article:modified_time" content="2024-10-13T15:52:42.222Z">
<meta property="article:author" content="Eulus">
<meta property="article:tag" content="vue">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://elaina-1017.xyz/posts/VueNote/0423fa51789c2f54ed5f8784310c5aa9a3f2f3f1.jpg"><script>(function() {
  if (CONFIG.mode !== 'auto') return
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="文章目录"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="站点概览"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Eulus"><img width="96" loading="lazy" src="/./images/elaina.jpg" alt="Eulus"></a><div class="site-author-name"><a href="/about/">Eulus</a></div><span class="site-name">Eulus's Blog</span><sub class="site-subtitle"></sub><div class="site-description">天若有情天亦老，人间正道是沧桑!</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="首页"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="归档"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">9</span></a></div><div class="site-state-item"><a href="/categories/" title="分类"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">0</span></a></div><div class="site-state-item"><a href="/tags/" title="标签"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">5</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://mzh.moegirl.org.cn/%E4%BC%8A%E8%95%BE%E5%A8%9C" title="伊蕾娜"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:clipboard-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" target="_blank" rel="noopener" href="https://space.bilibili.com/382479581?spm_id_from=333.1365.0.0" title="哔哩哔哩" style="color:#FF8EB3"><span class="icon iconify" data-icon="ri:bilibili-line"></span></a><a class="links-item hty-icon-button" target="_blank" rel="noopener" href="https://github.com/Eulus209" title="github" style="color:#181717"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-item hty-icon-button" href="/girls/" title="喜欢的女孩子" style="color:hotpink"><span class="icon iconify" data-icon="ri:women-line"></span></a></div></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E8%AF%AD%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">核心语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E7%AE%80%E5%8C%96DOM%E6%93%8D%E4%BD%9C"><span class="toc-number">1.1.1.</span> <span class="toc-text">1、简化DOM操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-number">1.1.2.</span> <span class="toc-text">2.计算属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E4%BE%A6%E5%90%AC%E5%99%A8"><span class="toc-number">1.1.3.</span> <span class="toc-text">3、侦听器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E6%8C%87%E4%BB%A4"><span class="toc-number">1.1.4.</span> <span class="toc-text">4、指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.1.5.</span> <span class="toc-text">5、修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E8%BE%93%E5%85%A5%E7%BB%91%E5%AE%9A%E7%9A%84"><span class="toc-number">1.1.5.1.</span> <span class="toc-text">表单输入绑定的</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E7%9A%84"><span class="toc-number">1.1.5.2.</span> <span class="toc-text">事件处理的</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#package-json"><span class="toc-number">1.1.6.</span> <span class="toc-text">package.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E8%AF%B4%E6%98%8E"><span class="toc-number">1.1.7.</span> <span class="toc-text">目录说明</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91"><span class="toc-number">2.</span> <span class="toc-text">组件化开发</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80"><span class="toc-number">2.1.</span> <span class="toc-text">组件基础</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6"><span class="toc-number">2.2.</span> <span class="toc-text">单文件组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E6%80%8E%E4%B9%88%E4%BD%BF%E7%94%A8%EF%BC%9F"><span class="toc-number">2.3.</span> <span class="toc-text">组件怎么使用？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E9%80%9A%E4%BF%A1"><span class="toc-number">2.4.</span> <span class="toc-text">组件的通信</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B6%E4%BC%A0%E5%AD%90-props"><span class="toc-number">2.4.1.</span> <span class="toc-text">父传子 props</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E4%BC%A0%E7%88%B6%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6"><span class="toc-number">2.4.2.</span> <span class="toc-text">子传父用自定义事件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#emit%E6%A1%88%E4%BE%8B%E8%AF%A6%E8%A7%A3"><span class="toc-number">2.4.2.1.</span> <span class="toc-text">$emit案例详解</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%8F%AA%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%80%BC"><span class="toc-number">2.4.2.1.1.</span> <span class="toc-text">1.只子组件传值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%AD%90%E7%88%B6%E9%83%BD%E4%BC%A0"><span class="toc-number">2.4.2.1.2.</span> <span class="toc-text">2.子父都传</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E7%BA%A7%E4%B9%9F%E5%8F%AF%E4%BC%A0"><span class="toc-number">2.4.3.</span> <span class="toc-text">同级也可传</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E6%8F%92%E6%A7%BD"><span class="toc-number">2.5.</span> <span class="toc-text">组件插槽</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E6%8F%92%E6%A7%BD"><span class="toc-number">2.5.1.</span> <span class="toc-text">普通插槽</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD"><span class="toc-number">2.5.2.</span> <span class="toc-text">具名插槽</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD"><span class="toc-number">2.5.3.</span> <span class="toc-text">作用域插槽</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue-Router"><span class="toc-number">3.</span> <span class="toc-text">Vue Router</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE"><span class="toc-number">3.1.</span> <span class="toc-text">创建项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95"><span class="toc-number">3.2.</span> <span class="toc-text">目录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#router"><span class="toc-number">3.2.1.</span> <span class="toc-text">router</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#store"><span class="toc-number">3.2.2.</span> <span class="toc-text">store</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#main-js"><span class="toc-number">3.2.3.</span> <span class="toc-text">main.js</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#App-vue%E5%AF%BC%E8%88%AA%E5%88%87%E6%8D%A2"><span class="toc-number">3.3.</span> <span class="toc-text">App.vue导航切换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E4%B8%AA%E8%B7%AF%E7%94%B1%E6%A1%88%E4%BE%8B"><span class="toc-number">3.4.</span> <span class="toc-text">一个路由案例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1"><span class="toc-number">3.5.</span> <span class="toc-text">动态路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1"><span class="toc-number">3.6.</span> <span class="toc-text">嵌套路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E7%A8%8B%E5%BC%8F%E7%9A%84%E5%AF%BC%E8%88%AA"><span class="toc-number">3.7.</span> <span class="toc-text">编程式的导航</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E5%AE%88%E5%8D%AB"><span class="toc-number">3.8.</span> <span class="toc-text">导航守卫</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vuex"><span class="toc-number">4.</span> <span class="toc-text">Vuex</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#state%E5%AD%98"><span class="toc-number">4.1.</span> <span class="toc-text">state存</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mutation%E6%94%B9"><span class="toc-number">4.2.</span> <span class="toc-text">mutation改</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#actions%E5%BC%82%E6%AD%A5"><span class="toc-number">4.3.</span> <span class="toc-text">actions异步</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#getters%E7%BC%93%E5%AD%98"><span class="toc-number">4.4.</span> <span class="toc-text">getters缓存</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Module"><span class="toc-number">4.5.</span> <span class="toc-text">Module</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B"><span class="toc-number">5.</span> <span class="toc-text">综合案例</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA"><span class="toc-number">5.1.</span> <span class="toc-text">项目创建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD%E5%88%B6%E4%BD%9C"><span class="toc-number">5.2.</span> <span class="toc-text">功能制作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E5%8B%BE%E9%80%89"><span class="toc-number">5.2.1.</span> <span class="toc-text">1勾选</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#toggleAll"><span class="toc-number">5.2.2.</span> <span class="toc-text">toggleAll</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%9B%E9%80%89visibility"><span class="toc-number">5.2.3.</span> <span class="toc-text">筛选visibility</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%9B%E9%80%89%E5%90%8E%E7%BA%A2%E6%A1%86%E6%A1%86"><span class="toc-number">5.2.4.</span> <span class="toc-text">筛选后红框框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%B7%E6%96%B0%E5%90%8E"><span class="toc-number">5.2.5.</span> <span class="toc-text">刷新后</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E6%95%B0"><span class="toc-number">5.2.6.</span> <span class="toc-text">计数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E"><span class="toc-number">5.2.7.</span> <span class="toc-text">新增</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%8D%95%E4%B8%AA"><span class="toc-number">5.2.8.</span> <span class="toc-text">删除单个</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clear%E5%AE%8C%E6%88%90%E7%9A%84"><span class="toc-number">5.2.9.</span> <span class="toc-text">clear完成的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%95%E9%83%A8%E6%95%88%E6%9E%9C"><span class="toc-number">5.2.10.</span> <span class="toc-text">底部效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#items"><span class="toc-number">5.2.11.</span> <span class="toc-text">items</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8C%E5%87%BB%E7%BC%96%E8%BE%91"><span class="toc-number">5.2.12.</span> <span class="toc-text">双击编辑</span></a></li></ol></li></ol></li></ol></div></div></div><div class="tag-cloud"><div class="tag-cloud-tags"><a href="/tags/vue/" style="font-size: 30px; color: #0078e7">vue</a> <a href="/tags/%E5%8A%A8%E6%BC%AB/" style="font-size: 30px; color: #0078e7">动漫</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 12px; color: #999">数据库</a> <a href="/tags/%E6%B8%B8%E6%88%8F/" style="font-size: 30px; color: #0078e7">游戏</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 12px; color: #999">笔记</a></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="http://elaina-1017.xyz/posts/VueNote/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Eulus"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Eulus's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">30分钟学会Vue<a class="post-edit-link" href="https://github.com/Eulus209/Eulus209.github.io/tree/hexo/source/_posts/VueNote.md" target="_blank" title="编辑" rel="noopener"><span class="icon iconify" data-icon="ri:edit-line"></span></a></h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="创建时间：2024-10-13 15:36:17" itemprop="dateCreated datePublished" datetime="2024-10-13T15:36:17+08:00">2024-10-13</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="本文字数"><span class="icon iconify" data-icon="ri:file-word-line"></span></span> <span title="本文字数">16.1k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="阅读时长"><span class="icon iconify" data-icon="ri:timer-line"></span></span> <span title="阅读时长">69m</span></span></span><div class="post-classify"><span class="post-tag"><a class="tag-item" href="/tags/vue/" style="--text-color:#4fc08d"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="tag-name">vue</span></a></span></div><div class="post-author"><span class="author-name">吴悠</span></div></div><a class="hty-button hty-button--raised" target="_blank" rel="noopener" href="https://b23.tv/ZqwpomT" style="margin: 1rem;background-color:blue">查看链接</a></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h1 id="核心语法"><a href="#核心语法" class="headerlink" title="核心语法"></a>核心语法</h1><p><img src="/posts/VueNote/0423fa51789c2f54ed5f8784310c5aa9a3f2f3f1.jpg" alt="0423fa51789c2f54ed5f8784310c5aa9a3f2f3f1" loading="lazy"></p>
<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p><a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/guide/">介绍 — Vue.js (https://v2.cn.vuejs.org/v2/guide/)</a></p>
<p>渐进式 JavaScript 框架</p>
<ul>
<li>减少要编写Dom操作（内置到了框架之中）</li>
<li>数据与页面的呈现分离。降低了代码耦合度</li>
<li>支持组件化开发。</li>
</ul>
<h3 id="1、简化DOM操作"><a href="#1、简化DOM操作" class="headerlink" title="1、简化DOM操作"></a>1、简化DOM操作</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> value=<span class="string">&#x27;这是内容a&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 编写Dom操作</span></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;box&#x27;</span>).<span class="property">textContent</span>=value;</span></span><br><span class="line"><span class="language-javascript">    value = <span class="string">&#x27;新内容ya&#x27;</span> <span class="comment">// 编写Dom操作</span></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;box&#x27;</span>).<span class="property">textContent</span>=value;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>而 Vue 会简化DOM操作</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;content&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;1+2+3&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;1&gt;2?&#x27;对&#x27;:&#x27;错&#x27;&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"> <span class="comment">// Vue会简化DOM操作。</span></span></span><br><span class="line"><span class="language-javascript">   <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1,响应式数据与插值表达式。</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 所谓的响应式数据指的是：我们在Vue内部对响应式数据进行操作，它就会自动地更新到视图中(界面中)。就可以省去大量的DOM操作了。</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 可以直接通过Vue实例访问data。</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>:<span class="string">&quot;#box&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">title</span>:<span class="string">&quot;标题1&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">content</span>:<span class="string">&quot;内容1&quot;</span> </span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">   &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-计算属性"><a href="#2-计算属性" class="headerlink" title="2.计算属性"></a>2.计算属性</h3><blockquote>
<p>起因：模板内的表达式非常便利，但是设计它们的初衷是用于简单运算的。复杂运算：在模板中放入太多的逻辑会让模板过重且难以维护。</p>
<ul>
<li><p>对于任何复杂逻辑，就应该使用<strong>计算属性</strong>。</p>
</li>
<li><p>像绑定普通 property 一样在模板中绑定计算属性。</p>
</li>
</ul>
</blockquote>
<p> 具有缓存性。优化性能。</p>
<ul>
<li>书写的时候可以为1个函数。</li>
</ul>
<blockquote>
<p>第一次计算的时候它会将计算结果在内部进行缓存。只能是响应式数据变。如果在第二次计算的时候响应式数据没有变，意味着整体结果也不变，就不再做计算了，拿到之前计算过的结果直接用。</p>
</blockquote>
<p><em>注意：不能加括号因为它叫计算属性。</em></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//2.计算属性  书写的时候可以为1个函数。  </span></span><br><span class="line">  <span class="attr">computed</span>:&#123;</span><br><span class="line">        <span class="title function_">outputContent</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;computed执行了&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;标题为2&#x27;</span>+<span class="variable language_">this</span>.<span class="property">title</span>+<span class="string">&#x27;, &#x27;</span>+<span class="string">&#x27;内容为&#x27;</span>+<span class="variable language_">this</span>.<span class="property">content</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<p>书写的时候是函数形式，调用的时候是不带括号的，作为属性。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;outputContent&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;outputContent&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3、侦听器"><a href="#3、侦听器" class="headerlink" title="3、侦听器"></a>3、侦听器</h3><blockquote>
<p>Vue中：当你改数据的时候，会自动触发一个叫做修改页面内容的一个操作。</p>
</blockquote>
<p>侦听器，它就是监听你某个数据有没有变化。</p>
<blockquote>
<p>注意：你侦听的数据必须是响应式的。</p>
</blockquote>
<ul>
<li><p>有可能你希望在某个数据变化的时候并不仅仅是更新页面，同时改点别的。</p>
</li>
<li><p>例如侦听title的变化，</p>
<ul>
<li>title要作为一个方法名设置在侦听器的内部。</li>
<li>然后这里边接受两个值，一个是新值一个是旧值。(<em>newValue</em>, <em>oldValue</em>)</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//例如侦听title的变化，title要作为一个方法名设置在侦听器的内部。然后这里边接受两个值，一个是新值一个是旧值。</span></span><br><span class="line">   <span class="attr">watch</span>:&#123; <span class="comment">//注意：你侦听的数据必须是响应式的。</span></span><br><span class="line">            <span class="title function_">title</span>(<span class="params">newValue, oldValue</span>)&#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(newValue, oldValue);   </span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>

<p>控制台：vm.title&#x3D;22222</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;content&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="4、指令"><a href="#4、指令" class="headerlink" title="4、指令"></a>4、指令</h3><blockquote>
<p>详见：前端Vue-heima.md文件。</p>
</blockquote>
<p>v-text设置标签的内容</p>
<p>v-html设置innerHTML（会解析html结构）</p>
<p>会覆盖原始内容。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- 内容指令  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-text</span>=<span class="string">&quot;htmlContent&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-html</span>=<span class="string">&quot;htmlContent&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!-- 渲染指令 --&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-for</span>=<span class="string">&quot;aitem in arr&quot;</span>&gt;</span>&#123;&#123;aitem&#125;&#125; <span class="tag">&lt;/<span class="name">p</span>&gt;</span> <span class="comment">&lt;!-- item是值：aa, bb, cc, dd 。--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-for</span>=<span class="string">&quot;item in obj&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125; <span class="tag">&lt;/<span class="name">p</span>&gt;</span> <span class="comment">&lt;!-- item是值：10、20、30。--&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--index是属性：a、b、c。key是下标：1、2、3。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index,key) in obj&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;-&#123;&#123;index&#125;&#125;-&#123;&#123;key&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">&quot;bool&quot;</span>&gt;</span> v-show内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;bool&quot;</span>&gt;</span> v-if内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </span><br><span class="line"></span><br><span class="line"> <span class="comment">&lt;!-- 属性指令 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-bind:title</span>=<span class="string">&quot;title&quot;</span>&gt;</span> 这是内容 <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">:title</span>=<span class="string">&quot;title&quot;</span>&gt;</span> 这是内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 事件指令 --&gt;</span>  <span class="comment">&lt;!-- 点击事件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;output&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;output&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 表单指令：表单输入绑定,会同步更新 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;inputV&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;inputV&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span> <span class="comment">&lt;!-- input的一个双向绑定，它视图变了，会更新底部数据 。</span></span><br><span class="line"><span class="comment">    p标签是由数据驱动的，数据变了，它会自动更新视图。--&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">el</span>:<span class="string">&quot;#box&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">htmlContent</span>:<span class="string">&#x27;看&lt;span&gt;span内容&lt;/span&gt;这里&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">arr</span>:[<span class="string">&#x27;aa&#x27;</span>,<span class="string">&#x27;bb&#x27;</span>,<span class="string">&#x27;cc&#x27;</span>,<span class="string">&#x27;dd&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">//JS中的&#123;&#125; 大括号，表示定义一个对象，有成对的属性和值。  </span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">obj</span>:&#123;<span class="attr">a</span>:<span class="number">10</span>, <span class="attr">b</span>:<span class="number">20</span>, <span class="attr">c</span>:<span class="number">30</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">bool</span>:<span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">title</span>:<span class="string">&#x27;标题文本&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">inputV</span>:<span class="string">&quot;默认文本&quot;</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">output</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;method执行了&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;       </span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="5、修饰符"><a href="#5、修饰符" class="headerlink" title="5、修饰符"></a>5、修饰符</h3><blockquote>
<p>建议看：官方文档中相应的部分。</p>
</blockquote>
<p>修饰符是用来<strong>修饰指令的</strong> 。写在指令的最后面。</p>
<h4 id="表单输入绑定的"><a href="#表单输入绑定的" class="headerlink" title="表单输入绑定的"></a>表单输入绑定的</h4><p><a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/guide/forms.html#%E4%BF%AE%E9%A5%B0%E7%AC%A6">forms.html#修饰符</a></p>
<p>1)：<a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/guide/forms.html#trim"><code>.trim</code></a>   trim的修饰符（trim是用来去除内容两端空格的）</p>
<p>自动过滤用户输入的首尾空白字符，给 <code>v-model</code> 添加 <code>trim</code> 修饰符：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;msg&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model.trim</span>=<span class="string">&quot;msg&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2)：<a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/guide/forms.html#lazy"><code>.lazy</code></a></p>
<p>在默认情况下，<code>v-model</code> 在每次 <code>input</code> 事件触发后将输入框的值与数据进行同步 。可以添加 <code>lazy</code> 修饰符，从而转为在 <code>change</code> 事件<em>之后</em>进行同步：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;msg&quot;</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- 在“change”时而非“input”时更新 --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model.lazy</span>=<span class="string">&quot;msg&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>3)：<a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/guide/forms.html#number"><code>.number</code></a></p>
<p>自动将用户的输入值转为数值类型，可以给 <code>v-model</code> 添加 <code>number</code> 修饰符：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model.number</span>=<span class="string">&quot;age&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span>&gt;</span>   </span><br></pre></td></tr></table></figure>

<h4 id="事件处理的"><a href="#事件处理的" class="headerlink" title="事件处理的"></a>事件处理的</h4><ul>
<li><p><a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/guide/events.html#%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6">events.html#事件修饰符</a></p>
</li>
<li><p>为了解决这个问题，Vue.js 为 <code>v-on</code> 提供了<strong>事件修饰符</strong>。之前提过，修饰符是由点开头的指令后缀来表示的。</p>
<ul>
<li><code>.stop</code></li>
<li><code>.prevent</code></li>
<li><code>.capture</code></li>
<li><code>.self</code></li>
<li><code>.once</code></li>
<li><code>.passive</code></li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/guide/events.html#%E6%8C%89%E9%94%AE%E4%BF%AE%E9%A5%B0%E7%AC%A6">events.html#按键修饰符</a></p>
<ul>
<li></li>
<li><pre><code class="html">  
  &lt;input @keyup.enter=&quot;submit&quot;&gt;  只有在 `key` 是 `Enter` 时调用 `vm.submit()方法` 
  &lt;input @keyup.page-down=&quot;onPageDown&quot;&gt; 处理函数只会在 $event.key 等于 PageDown 时被调用。
  <figure class="highlight less"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-tag">-</span> <span class="selector-attr">[系统修饰键]</span>(<span class="attribute">https</span>:<span class="comment">//v2.cn.vuejs.org/v2/guide/events.html#系统修饰键)</span></span><br><span class="line"></span><br><span class="line">  可以用如下修饰符来实现仅在**按下相应按键时**才触发鼠标或键盘事件的监听器。</span><br><span class="line"></span><br><span class="line">  - <span class="built_in">`.ctrl`</span></span><br><span class="line">- <span class="built_in">`.alt`</span></span><br><span class="line">  - <span class="built_in">`.shift`</span></span><br><span class="line">  - <span class="built_in">`.meta`</span></span><br><span class="line">  </span><br><span class="line">  &gt; 注意：在 Mac 系统键盘上，meta 对应 command 键 (⌘)。在 Windows 系统键盘 meta 对应 Windows 徽标键 (⊞)。</span><br><span class="line">  &gt;</span><br><span class="line">&gt; 在 Sun 操作系统键盘上，meta 对应实心宝石键 (◆)。在其他特定键盘上，尤其在 MIT 和 Lisp 机器的键盘、以及其后继产品，比如 Knight 键盘、space-cadet 键盘，meta 被标记为“META”。在 Symbolics 键盘上，meta 被标记为“META”或者“Meta”。</span><br><span class="line"></span><br><span class="line">例如：</span><br><span class="line"></span><br><span class="line">## 生命周期钩子</span><br><span class="line"></span><br><span class="line">[Vue 实例 — 实例生命周期钩子](<span class="attribute">https</span>:<span class="comment">//v2.cn.vuejs.org/v2/guide/instance.html#实例生命周期钩子)</span></span><br><span class="line"></span><br><span class="line">[API — 选项-生命周期钩子](<span class="attribute">https</span>:<span class="comment">//v2.cn.vuejs.org/v2/api/#选项-生命周期钩子)</span></span><br><span class="line"></span><br><span class="line">mounted和created的区别</span><br><span class="line"></span><br><span class="line">- <span class="attribute">created</span>:在模板渲染成html前调用，即通常初始化某些属性值，然后再渲染成视图。</span><br><span class="line"></span><br><span class="line">- <span class="attribute">mounted</span>:在模板渲染成html后调用，通常是初始化页面完成后，再对html的dom节点进行一些需要的操作。</span><br><span class="line">  - 通常是为 methods 函数提前定义（ 类似提前声明变量 进入页面内容全部**渲染完成后自动引函数**）。</span><br><span class="line"></span><br><span class="line"># 脚手架Vue CLI</span><br><span class="line"></span><br><span class="line">[介绍 | Vue CLI (vuejs.org)](<span class="attribute">https</span>:<span class="comment">//cli.vuejs.org/zh/guide/)</span></span><br><span class="line"></span><br><span class="line">Vue CLI是Vue官方去基于Webpack打造的脚手架工具,</span><br><span class="line"></span><br><span class="line">脚手架内置了很多模板和工具，可以让我们快速进行Vue的项目创建。</span><br><span class="line"></span><br><span class="line">我们可以通过一些选项的方式去勾选，要使用哪些扩展插件。</span><br><span class="line"></span><br><span class="line">## 安装</span><br><span class="line"></span><br><span class="line">首先需要安装node.js</span><br><span class="line"></span><br><span class="line">&gt; <span class="attribute">C</span>:\Users\ccdd&gt;node -v</span><br><span class="line">&gt; v16.<span class="number">20.2</span></span><br><span class="line">&gt;</span><br><span class="line">&gt; <span class="attribute">C</span>:\Users\ccdd&gt;npm --version</span><br><span class="line">&gt; <span class="number">8.19</span>.<span class="number">4</span></span><br><span class="line"></span><br><span class="line">&gt; PS <span class="attribute">D</span>:\soft\develop\idea\pros\my\qianlearn\vuelearn\main\wuyou\vueCli&gt; npm --version</span><br><span class="line">&gt; <span class="number">8.19</span>.<span class="number">4</span></span><br><span class="line">&gt; PS <span class="attribute">D</span>:\soft\develop\idea\pros\my\qianlearn\vuelearn\main\wuyou\vueCli&gt; node -v</span><br><span class="line">&gt; v16.<span class="number">20.2</span></span><br><span class="line"></span><br><span class="line">npm工具：node package manager，node包的管理器。</span><br><span class="line"></span><br><span class="line">- 例如我们想去安装Vue CLI，我们可以通过npm install，install可以简写为i 。</span><br><span class="line">  Vue CLI的名称叫做<span class="variable">@vue</span>/cli 。（vue-cli它代表的是Vue CLI的早期版本）</span><br><span class="line">  - <span class="built_in">`- g`</span> 表示的是在node的全局进行安装.(以后创建项目的时候都可以使用这个工具)</span><br><span class="line"></span><br><span class="line">&gt; PS <span class="attribute">D</span>:\soft\develop\idea\pros\my\qianlearn\vuelearn\main\wuyou\vueCli&gt; npm i <span class="variable">@vue</span>/cli -g</span><br><span class="line">&gt; <span class="built_in">`[========================]`</span></span><br><span class="line">&gt;</span><br><span class="line">&gt; PS <span class="attribute">D</span>:\soft\develop\idea\pros\my\qianlearn\vuelearn\main\wuyou\vueCli&gt; vue --version   # 用这个命令来检查其版本是否正确</span><br><span class="line">&gt; <span class="variable">@vue</span>/cli <span class="number">5.0</span>.<span class="number">8</span></span><br><span class="line"></span><br><span class="line">- npm i serve -g</span><br><span class="line">  - serve可以帮助快速地**启动一个静态资源服务器来执行**，来进行**指定目录下的代码运行**。</span><br><span class="line">  - -g那这块我们也是做一个全局的安装</span><br><span class="line"></span><br><span class="line">&gt; 可以把 dist 目录下面的代码，通过serve的方式给做一个运行。</span><br><span class="line"></span><br><span class="line">## 创建</span><br><span class="line"></span><br><span class="line">创建一个Vue项目</span><br><span class="line"></span><br><span class="line"><span class="built_in">``</span>`sh</span><br><span class="line"><span class="number">1</span>、方式一：</span><br><span class="line">vue create hello-world  # vue create + 项目名称</span><br><span class="line">然后选择第<span class="number">2</span>个：Vue2</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、方式二：使用vue ui的方式</span><br><span class="line">UI是user interface（是图形化界面的创建方式）</span><br><span class="line">那么他就会打开一个内置的网页：Vue 项目管理器</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h3><p>里面scripts有一些命令，开发中比较常用的是serve（可帮助打开一个Vue脚手架内部的一个静态资源服务器，直接跑起来）</p>
<ul>
<li>npm run + 你即将使用的一个命令。（注意先通过cd 命令来进入到vue project项目的根目录下）</li>
</ul>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">PS D:\soft\develop\idea\pros\my\qianlearn\vuelearn\main\wuyou\vueCli\my-vue-project&gt; npm run serve</span><br><span class="line"></span><br><span class="line">&gt; my-vue-project@<span class="number">0</span>.<span class="number">1</span>.<span class="number">0</span> serve</span><br><span class="line">&gt; vue-cli-service serve</span><br><span class="line"></span><br><span class="line"> INFO  Starting development server...</span><br><span class="line"> DONE  Compiled successfully <span class="keyword">in</span> <span class="number">5079</span>ms                                                                                                                                          <span class="number">14</span>:<span class="number">05</span>:<span class="number">14</span></span><br><span class="line">  App running <span class="built_in">at</span>:</span><br><span class="line">  - Local:   http://localhost:<span class="number">8080</span>/ </span><br><span class="line">  - Network: http://<span class="number">172</span>.<span class="number">16</span>.<span class="number">1</span>.<span class="number">24</span>:<span class="number">8080</span>/</span><br><span class="line"></span><br><span class="line">  Note that the development build is <span class="keyword">not</span> optimized.</span><br><span class="line">  To create a production build, run npm run build.</span><br></pre></td></tr></table></figure>

<p>scripts中,另一个比较常用的是build。build用于代码打包（最后呈现给用户的时候，不可能是很多这么零碎的文件）</p>
<ul>
<li><p>打包通过npm run build来执行</p>
</li>
<li><p>打包后的文件在dist目录下。</p>
<ul>
<li><p>可以把 dist 目录下面的代码，通过serve的方式给做一个运行。</p>
<blockquote>
<p>\my-vue-project&gt; serve dist</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="目录说明"><a href="#目录说明" class="headerlink" title="目录说明"></a>目录说明</h3><ul>
<li>node_modules ：是项目安装的所有的包都保存在这个位置，这个代码是不需要我们做改动的，它的里面都是一些第三方的工具，只需要用。</li>
<li>public：里边有资源，像index.html、favicon.ico 。这里边保存的是一些不参与编译的资源。</li>
<li>src：它保存的是一些需要参与编译的资源。<ul>
<li>比如像assets，里面有logo.png。这个png在项目里，会被编译为base64格式,进行下展示。（所以打包后的文件夹里不具备图片的）</li>
<li>components：是组件的意思，用来保存所有的自定义组件的功能。（存储更通用的组件）</li>
<li>App.vue：这个是根组件。<ul>
<li>以.vue为后缀的vue文件, 是vue单文件组件。</li>
</ul>
</li>
<li>main.js：这是Vue应用的一个入口文件，会对Vue做一个基础的配置</li>
</ul>
</li>
<li>其它的：babel.config.js：是我们的babel的配置文件。</li>
<li>jsconfig.json 配置文件</li>
<li>vue.config.js 配置文件，指的是Vue CLI的项目的配置文件。里边会有些相关配置的定义，可以做一些配置的更改。</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">   </span><br></pre></td></tr></table></figure>

<h1 id="组件化开发"><a href="#组件化开发" class="headerlink" title="组件化开发"></a>组件化开发</h1><h2 id="组件基础"><a href="#组件基础" class="headerlink" title="组件基础"></a>组件基础</h2><p><a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/guide/components.html">components.html#组件基础</a></p>
<p>组件是可复用的Vue实例。（可以把重复的功能封装为组件。）</p>
<p>使用Vue.component函数去创建一个组件。</p>
<ul>
<li>Vue.component函数<ul>
<li>第一个参数：组件的名称。</li>
<li>第二个参数：以对象的形式去描述一个组件。</li>
<li>！组件的模版必须具备一个根节点。</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 定义一个名为 button-counter 的新组件</span><br><span class="line">Vue.component(&#x27;button-counter&#x27;, &#123;</span><br><span class="line">  data: function () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      count: 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  template: &#x27;&lt;button v-on:click=&quot;count++&quot;&gt;You clicked me &#123;&#123; count &#125;&#125; times.&lt;/button&gt;&#x27;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="单文件组件"><a href="#单文件组件" class="headerlink" title="单文件组件"></a>单文件组件</h2><p><a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/guide/single-file-components.html">单文件组件 — Vue.js (vuejs.org)</a></p>
<p>组件，它是用来封装页面部分功能的一种方式（可以封装这一块功能的结构、样式和逻辑这么几个部分）。</p>
<ul>
<li>以.vue为后缀的vue文件, 是单文件组件。<ul>
<li>我们的每个.vue单文件组件中 都包含了三个部分：template、script、style 。</li>
<li>每个组件，都是由这独立的三个部分来组成的：结构、样式和逻辑。</li>
<li>不同组件在不同的文件中。每个组件里边内容，也都是独立的。</li>
</ul>
</li>
</ul>
<h2 id="组件怎么使用？"><a href="#组件怎么使用？" class="headerlink" title="组件怎么使用？"></a>组件怎么使用？</h2><blockquote>
<p>以在在vue脚手架创建的项目中为例。</p>
</blockquote>
<p>如：HelloWorld.vue这个组件它在使用的时候，就是在App.vue中去用的。</p>
<ul>
<li><p>第一步：需要在我们当前组件内部，有一个叫做components的配置选项，来进行我们组件的配置。（在这设置了才能使用）</p>
</li>
<li><p>同时也通过import方式做了一个引入。（这是一种模块引用的方式）</p>
<ul>
<li>HelloWorld 引入后：就可在我们当前组件内部做使用了。它就变成了当前组件的一个子组件。</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">&quot;Vue logo&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./assets/logo.png&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">HelloWorld</span> <span class="attr">msg</span>=<span class="string">&quot;Welcome to Your Vue.js App&quot;</span>/&gt;</span> 单标签的形式</span><br><span class="line">  <span class="tag">&lt;<span class="name">HelloWorld</span> <span class="attr">msg</span>=<span class="string">&quot;Welcome to Your Vue.js App&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">HelloWorld</span>&gt;</span> 双标签的形式</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>使用组件的时候，就是一个HTML标签的形式，跟组件名称是对应的。</p>
</li>
</ul>
<p>但是当我们去 export 引入的时候，在设置helloWorld子组件的时候，它通过export default导出的，其实就是一对象，它并没有做任何的功能设置。</p>
<ul>
<li><p>其实这一切，都是在刚才使用 npm run build ，也就是打包这一步的时候去执行的。</p>
<ul>
<li><p>App.vue中：当它看到在某一个组件的结构里面，存在一个helloworld结构以后 <code>&lt;HelloWorld msg=&quot;Welcome&quot;/&gt;</code>  这个标签不是 html 的这个内置的标签、不是一个正常的标签，那他就会去找有没有这样一个组件，如果有，他就找到你导入的这个组件的配置对象（从import找到）</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"> <span class="comment">//在HelloWorld.vue中定义的</span></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;HelloWorld&#x27;</span>,  <span class="comment">//这是个配置对象</span></span></span><br><span class="line"><span class="language-javascript">  <span class="attr">props</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">msg</span>: <span class="title class_">String</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>他会根据你给我这个对象，进行一下new Vue的操作。</p>
<ul>
<li><p>例如像App.vue它也是一个组件，这块通过export default方式也导出了一下。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="title class_">HelloWorld</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li><p>那这个根组件（App.vue）会在哪使用呢?</p>
<ul>
<li><p>根组件是没有父组件的,它会在我们的入口（main.js）中被进行创建：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>这块通过new Vue的方式做了一个处理，使用了一个render函数。这是我们根组件的配置上的一个使用方式。</p>
<blockquote>
<p>render函数的作用是：将h创建的Node节点信息return返回给Vue.js底层处理文件中的beforeMount()生命周期钩子函数，让其将Node节点信息在界面中渲染出来。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/api/#beforeMount">beforeMount</a> : 在挂载开始之前被调用：相关的 <code>render</code> 函数首次被调用。</p>
</blockquote>
</blockquote>
</li>
<li><p>在我们进行<strong>子组件处理</strong>的时候，它也是由new Vue内部的一个组件化处理方式，进行的组件实例的创建。</p>
<ul>
<li>所以意味着：<strong>每一个Vue的组件都是一个独立的Vue实例</strong>。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Vue组件</strong>在使用的时候，其实就相当于是一个自定义的HTML标签，但其实实质上它是一个单独的Vue实例。</p>
<ul>
<li>每一个组件都是一个单独的Vue实例。</li>
<li>最终这个组件，会<strong>在编译环节进行一下结构生成</strong>，并替换掉你之前写的那个自定义的HTML标签。</li>
</ul>
</li>
<li><p>所以：Vue的实例属性，在组件中也同样是可以使用的。但有一个除外就是el。</p>
<ul>
<li>el选项只能够在根组件中进行设置。而像<u>内部的子组件</u>它是不需要el属性的，因为它是取决于实际上写的这个标签的位置，而不是挂载到某一个特定位置上。</li>
</ul>
</li>
</ul>
<h2 id="组件的通信"><a href="#组件的通信" class="headerlink" title="组件的通信"></a>组件的通信</h2><p>关于组件的通信方式。</p>
<p>组件跟组件之间都是相互独立的。但是在实际页面开发中，组件跟组件之间肯定又是有关联性的，那这种关联方式就体现在了数据的交互上。</p>
<p>例如说在父组件中，如果有些数据希望在子组件中进行访问的话，那么这时我们就要涉及到组件通信的处理方式。</p>
<h3 id="父传子-props"><a href="#父传子-props" class="headerlink" title="父传子 props"></a>父传子 props</h3><blockquote>
<p>父组件向子组件传值使用 props</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 父组件 App.vue中： --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span> </span><br><span class="line">   <span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">&quot;Vue logo&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./assets/logo.png&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">HelloWorld</span> <span class="attr">msg</span>=<span class="string">&quot;Welcome to Your Vue.js App&quot;</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在父组件App.vue中，就给子组件设置了一个属性，就像html标签属性一样，写了一个msg属性，值为“Welcome…”。</p>
<blockquote>
<p>那在子组件里如何作为一个正确的接收呢？<br>——父组件向子组件传值使用 props 。</p>
</blockquote>
<p>在子组件HelloWorld.vue中，就写了一个props。props就是去接收父组件给子组件设置的属性的一个方式。</p>
<p><u>如果希望将父组件的数据传递给子组件的话，只要通过 (子组件的) props 作为接收就可以了。</u></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 子组件 HelloWorld.vue中： --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;HelloWorld&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">props</span>: &#123;<span class="comment">//除了可以规定类型以外,还可以规定一些其他的配置项,所以这块也可以通过对象方式来。</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">msg</span>: <span class="title class_">String</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li>props中：除了可以规定类型以外，还可以规定一些其他的配置项，所以这块也可通过对象方式来。(props中的自定义属性也可以通过v-bind绑定的方式被赋值，通过响应式数据来做设置)</li>
<li>如果写类型可以写成type，如果类型可能有多种的话，可以写多个用数组来包裹，比如说String或者Number，注意首字母需大写。</li>
<li>default：默认值多少。</li>
<li>required：是必选的。有可能子组件依赖于 父组件传递的一个核心数据，再做一个后续的逻辑设置，那么这时这个属性的值就必须得有。</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 新的子组件 HelloWorld.vue中： --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;HelloWorld&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//组件通信</span></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 1.父传子，通过 props 作为处理。</span></span></span><br><span class="line"><span class="language-javascript">  <span class="attr">props</span>: &#123;  <span class="comment">//除了可以规定类型以外，还可以规定一些其他的配置项，所以这块也可通过对象方式来。</span></span></span><br><span class="line"><span class="language-javascript">    <span class="attr">msg</span>: <span class="title class_">String</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">count</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">type</span>:[<span class="title class_">String</span>, <span class="title class_">Number</span>],</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// default:100</span></span></span><br><span class="line"><span class="language-javascript">      <span class="attr">required</span>:<span class="literal">true</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 新的父组件 App.vue中： --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span> </span><br><span class="line">   <span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">&quot;Vue logo&quot;</span> <span class="attr">src</span>=<span class="string">&quot;./assets/logo.png&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">HelloWorld</span> <span class="attr">msg</span>=<span class="string">&quot;Welcome to Your Vue.js App&quot;</span></span></span><br><span class="line"><span class="tag">   <span class="attr">:count</span>=<span class="string">&quot;parentCount&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">HelloWorld</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="子传父用自定义事件"><a href="#子传父用自定义事件" class="headerlink" title="子传父用自定义事件"></a>子传父用自定义事件</h3><blockquote>
<p>子组件向父组件传递数据使用自定义事件。</p>
<p>反向传值（子向父传值$emit）</p>
</blockquote>
<p>情景：如果你希望把子组件的数据去传递给父组件的话。<br>这单个商品是不可能知道其他商品的信息，那应该把它汇总到外部的父组件，也就是整体购物车组件里边做一个统计。</p>
<ul>
<li>希望能够<strong>将这个更改过的数据，传递给父组件</strong>。<ul>
<li><p>这需要通过自定义事件的方式来做处理（$emit的方式来做设置）。</p>
</li>
<li><p><code>$emit()</code> 用于触发自定义事件。（emit是触发的意思。click是点击这个操作触发）</p>
<ul>
<li><p>第一个参数为自定义的事件</p>
</li>
<li><p>参数2是事件要传递给父组件的数据。</p>
</li>
<li><p>父组件在子组件标签上<strong>绑定自定义事件</strong>来<strong>监听与接收</strong>子组件传递的数据。</p>
<p><strong>父组件里面绑定事件，子组件触发事件</strong></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_49039603/article/details/120834149">参考：vue笔记5_this.$emit第三个参数-CSDN博客</a></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 子组件 HelloWorld.vue中： --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handler&quot;</span>&gt;</span>子组件的button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&quot;HelloWorld&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">props</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">msg</span>: <span class="title class_">String</span>,</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">childCount</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">handler</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">childCount</span>++;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.$emit(<span class="string">&quot;child-change-event&quot;</span>, <span class="variable language_">this</span>.<span class="property">childCount</span>);       </span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// this.$emit(&#x27;event-name&#x27;, param);参数2是事件要传递给父组件的数据。</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 父组件 App.vue中： --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">HelloWorld</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">child-change-event</span>=<span class="string">&quot;appHandler&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">HelloWorld</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 父组件在子组件标签上绑定自定义事件来监听与接收子组件传递的数据。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>父组件里面的getChildData的数据为：&#123;&#123; getChildData &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">import</span> <span class="title class_">HelloWorld</span> <span class="keyword">from</span> <span class="string">&quot;./components/HelloWorld.vue&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title class_">HelloWorld</span>,</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">getChildData</span>: <span class="number">2</span>,</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;     <span class="comment">//appHandler监听子组件传递的数据</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">appHandler</span>(<span class="params">childCount</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">getChildData</span> = childCount;</span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="emit案例详解"><a href="#emit案例详解" class="headerlink" title="$emit案例详解"></a>$emit案例详解</h4><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/linzhifen5/p/17240872.html">参考链接</a></p>
<p>总结：</p>
<ul>
<li>只有子组件传参，@调用方法不使用“括号”</li>
<li>特殊使用“<code>arguments</code>”和“<code>$event</code>”，</li>
<li><code>arguments</code> 获取子参数的数组</li>
<li><code>$event</code> 获取自定义对象，满足传多个参数</li>
</ul>
<hr>
<p>使用 <code>$emit</code> 从子组件传递数据到父组件时，主要有以下3类情况</p>
<h5 id="1-只子组件传值"><a href="#1-只子组件传值" class="headerlink" title="1.只子组件传值"></a>1.只子组件传值</h5><p>只有子组件传值（单个、多个）</p>
<p>写法一：（自由式）</p>
<blockquote>
<ol>
<li>只有子组件传值；</li>
<li>注意@引用函数不需要加“括号”；</li>
<li>子组件传值和父组件方法的参数一一对应。</li>
</ol>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">// child组件，在子组件中触发事件</span><br><span class="line">this.$emit(&#x27;handleFather&#x27;, &#x27;子参数1&#x27;,&#x27;子参数2&#x27;,&#x27;子参数3&#x27;)</span><br><span class="line"></span><br><span class="line">// father组件，在父组件中引用子组件</span><br><span class="line"><span class="tag">&lt;<span class="name">child</span> @<span class="attr">handleFather</span>=<span class="string">&quot;handleFather&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">   <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    child,</span></span><br><span class="line"><span class="language-javascript">   &#125;</span></span><br><span class="line"><span class="language-javascript">   <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">     <span class="title function_">handleFather</span>(<span class="params">param1,param2,param3</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">         <span class="variable language_">console</span>.<span class="title function_">log</span>(param) <span class="comment">// </span></span></span><br><span class="line"><span class="language-javascript">     &#125;</span></span><br><span class="line"><span class="language-javascript">   &#125;</span></span><br><span class="line"><span class="language-javascript"> &#125;</span></span><br><span class="line"><span class="language-javascript"> </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>写法二：（arguments写法）</p>
<blockquote>
<ol>
<li>只有子组件传值；</li>
<li>注意@引用函数添加“arguments”值；</li>
<li>打印出子组件传值的数组形式。</li>
</ol>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">// child组件，在子组件中触发事件并传多个参数</span><br><span class="line">this.$emit(&#x27;handleFather&#x27;, param1, param2,)</span><br><span class="line">//father组件，在父组件中引用子组件</span><br><span class="line"><span class="tag">&lt;<span class="name">child</span> @<span class="attr">handleFather</span>=<span class="string">&quot;handleFather(arguments)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">components</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">     child,</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">handleFather</span>(<span class="params">param</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(param[<span class="number">0</span>]) <span class="comment">//获取param1的值</span></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">console</span>.<span class="title function_">log</span>(param[<span class="number">1</span>]) <span class="comment">//获取param2的值</span></span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="2-子父都传"><a href="#2-子父都传" class="headerlink" title="2.子父都传"></a>2.子父都传</h5><p>子组件传值，父组件也传值</p>
<p>写法一：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// child组件，在子组件中触发事件</span></span><br><span class="line"><span class="variable language_">this</span>.$emit(<span class="string">&#x27;handleFather&#x27;</span>, <span class="string">&#x27;子参数对象&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//father组件，在父组件中引用子组件</span></span><br><span class="line">&lt;child @handleFather=<span class="string">&quot;handleFather($event, fatherParam)&quot;</span>&gt;&lt;/child&gt;</span><br><span class="line"> </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"> <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    child,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     <span class="title function_">handleFather</span>(<span class="params">childObj, fatherParam</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">         <span class="variable language_">console</span>.<span class="title function_">log</span>(childObj) <span class="comment">// 打印子组件参数（对象）</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">         <span class="variable language_">console</span>.<span class="title function_">log</span>(fatherParam) <span class="comment">// 父组件参数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"> &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>写法二：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// child组件，在子组件中触发事件并传多个参数</span></span><br><span class="line"><span class="variable language_">this</span>.$emit(<span class="string">&#x27;handleFather&#x27;</span>, param1, param2,)</span><br><span class="line"></span><br><span class="line"><span class="comment">//father组件，在父组件中引用子组件</span></span><br><span class="line">&lt;child @handleFather=<span class="string">&quot;handleFather(arguments, fatherParam)&quot;</span>&gt;&lt;/child&gt;</span><br><span class="line"> </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"> <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    child,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     <span class="title function_">handleFather</span>(<span class="params">childParam, fatherParam</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">         <span class="variable language_">console</span>.<span class="title function_">log</span>(childParam) <span class="comment">//获取arguments数组参数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">         <span class="variable language_">console</span>.<span class="title function_">log</span>(fatherParam) <span class="comment">//获取fatherParam</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"> &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="同级也可传"><a href="#同级也可传" class="headerlink" title="同级也可传"></a>同级也可传</h3><p>同级其实也可以传。</p>
<ul>
<li><p>第一种方式就是通过父来中转，比如说把子的值传给以父，再用父传给另外一个子。</p>
</li>
<li><p>第二种方式是通过一套EventBus方式来做处理，是通过一个额外的Vue实例，来做一个数据存储。</p>
</li>
<li><p>第三种方式就是比如说我们并不是父子关系，也不是同级关系。</p>
<ul>
<li>就建议使用Vue官方的，全局状态管理工具VueX，来进行状态的管理。</li>
</ul>
</li>
</ul>
<h2 id="组件插槽"><a href="#组件插槽" class="headerlink" title="组件插槽"></a>组件插槽</h2><p><a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/guide/components-slots.html">插槽 — components-slots.html</a></p>
<p>关于组件插槽的使用方式</p>
<p>插槽是一个比较常用、比较好用的一个功能。</p>
<p>当我们希望：每次在进行组件使用的时候，有所不一样的呈现。</p>
<h3 id="普通插槽"><a href="#普通插槽" class="headerlink" title="普通插槽"></a>普通插槽</h3><ul>
<li>那如果希望每个helloworld除了核心功能以外，其他位置有一些展示上的区别，就可以利用组件的这种双标签的结构来进行处理了。<ul>
<li>双标签内的区域，所书写的其实就是插槽的位置。</li>
<li>可以在子组件中去规定一下，给插槽中写的数据要在内部的哪个地方去呈现。<ul>
<li>——书写slot标签。slot并不是真的标签，它只是引用了在父组件去使用子组件的时候，所设置的一个默认插槽内容。当然 slot 里也可以写一些默认内容。</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li>子组件里必须先定义slot标签，父组件才能使用插槽进行自定义区别。</li>
<li>插槽：使得子组件有部分区域是给父组件开放的，可以自己随便定一些什么东西进去，而不再是完全由子组件内部做实现。</li>
</ul>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 子组件 HelloWorld.vue中： --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span>slot的默认文本<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 父组件 App.vue中： --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">HelloWorld</span>&gt;</span> HelloWorld双标签内的文本1<span class="tag">&lt;/<span class="name">HelloWorld</span>&gt;</span> <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">HelloWorld</span>&gt;</span> HelloWorld双标签内的文本22<span class="tag">&lt;/<span class="name">HelloWorld</span>&gt;</span> <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">HelloWorld</span>&gt;</span><span class="tag">&lt;/<span class="name">HelloWorld</span>&gt;</span><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="具名插槽"><a href="#具名插槽" class="headerlink" title="具名插槽"></a><a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/guide/components-slots.html#%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD">具名插槽</a></h3><p>有时我们需要多个插槽。可能有多个区域。</p>
<p>那在父组件设置的时候，怎么来区分，是要给哪个地方来写？——这块可以<strong>通过name来做标记</strong>。</p>
<p><u>当你组件里有好几个地方可以让外部通过插槽传值的话，就可以通过name来标记。</u></p>
<p>如果希望在父组件编写的时候，给一个自定义的内容，就需要手动写一个template，然后通过#的方式（或者写成v-slot指令），来指定你要设置的插槽的名称。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 子组件 HelloWorld.vue中： --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span> slot的默认文本 <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;foot&quot;</span>&gt;</span> slot中foot的文本 <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 父组件 App.vue中： --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span> </span><br><span class="line">   <span class="tag">&lt;<span class="name">HelloWorld</span>&gt;</span> HelloWorld双标签内的文本1</span><br><span class="line">     <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:foot</span>&gt;</span>HelloWorld双标签内的文本template v-slot:foot<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">HelloWorld</span>&gt;</span><span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">HelloWorld</span>&gt;</span> HelloWorld双标签内的文本22</span><br><span class="line">     <span class="tag">&lt;<span class="name">template</span> #<span class="attr">foot</span>&gt;</span> HelloWorld双标签内的文本template #foot <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">HelloWorld</span>&gt;</span><span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">HelloWorld</span>&gt;</span><span class="tag">&lt;/<span class="name">HelloWorld</span>&gt;</span><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h3><p><a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/guide/components-slots.html#%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD">components-slots.html#作用域插槽</a></p>
<p>除了可以做一些基础的文本设置以外，我们还可以<strong>在插槽里面去使用子组件的一些数据</strong>。</p>
<p>注意：helloworld里边的插槽，其实也是helloworld里边的内容，它并不是父组件的内容。</p>
<p>我们就需要<strong>通过作用域插槽方式来做一个设置</strong>，也就是需要你在子组件Helloworld中的slot里给绑定一些值。</p>
<p>！这个<strong>绑定的位置</strong>是在你的name&#x3D;foot的插槽里面，那意味着，当父组件使用Helloworld这个组件的时候，就<strong>只能在foot插槽里</strong>进行数据的使用。</p>
<p>！父组件使用slot插槽，#foot&#x3D;在接收的时候注意：接收的时候，虽然slot插槽绑定的值是一个，但是他给你传回来是一个整个对象，所以这块你接收的是一个dataObj。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 子组件 HelloWorld.vue中： --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span> slot的默认文本 <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- v-bind绑定属性与对应的值 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;foot&quot;</span> <span class="attr">:childCount</span>=<span class="string">&quot;childCount&quot;</span>&gt;</span>slot中foot的文本<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&quot;HelloWorld&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">props</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">childCount</span>: <span class="number">134</span>,</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"> <span class="comment">&lt;!-- 父组件 App.vue中： --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span> </span><br><span class="line">   <span class="comment">&lt;!-- 接收插槽传递的数据 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">HelloWorld</span>&gt;</span> Hello标签的文本1</span><br><span class="line">      <span class="tag">&lt;<span class="name">template</span> #<span class="attr">foot</span>=<span class="string">&quot;dataObj&quot;</span>&gt;</span>foot= &#123;&#123;dataObj&#125;&#125;,内容是= &#123;&#123;dataObj.childCount&#125;&#125;<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">HelloWorld</span>&gt;</span> <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 或者你直接通过解构方式也行 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">HelloWorld</span>&gt;</span> Hello标签的文本22</span><br><span class="line">      <span class="tag">&lt;<span class="name">template</span> #<span class="attr">foot</span>=<span class="string">&quot;&#123;childCount&#125;&quot;</span>&gt;</span>foot= &#123;&#123;childCount&#125;&#125;<span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">HelloWorld</span>&gt;</span> <span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="Vue-Router"><a href="#Vue-Router" class="headerlink" title="Vue Router"></a>Vue Router</h1><p><a target="_blank" rel="noopener" href="https://v3.router.vuejs.org/zh/">Vue Router (与 Vue 2 对应的 Vue Router3 的版本)</a></p>
<p>Vue Router 是 Vue.js官方的路由管理器。它和 Vue.js 的核心深度集成，让构建单页面应用变得易如反掌。</p>
<ul>
<li>单页面应用<ul>
<li>一般的网站都是由多个页面组成的，但Vue通常只有一个html文件，也意味着它其实只有一个页面。</li>
<li>那如何能够在这个页面中去实现类似于多项应用的效果呢？——其实就是监测页面URL的变化，当URL变化以后，我们在页面中渲染些内容就OK了。</li>
</ul>
</li>
</ul>
<h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><p>先创建项目：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/628439854">参考：手动搭建一个完整的vue2项目</a></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">you\vueRouter&gt; vue create ling-vue</span><br><span class="line">  Manually <span class="keyword">select</span> features</span><br><span class="line">  我们需要选择手动选择功能选择到Router还有Vuex</span><br><span class="line"></span><br><span class="line">Vue CLI v5.0.8</span><br><span class="line">? Please pick a preset: Manually <span class="keyword">select</span> features</span><br><span class="line">? Check the features needed <span class="keyword">for</span> your project: (Press &lt;space&gt; to <span class="keyword">select</span>, &lt;a&gt; to toggle all, &lt;i&gt; to invert selection, and &lt;enter&gt; to proceed)</span><br><span class="line"> (*) Babel</span><br><span class="line"> ( ) TypeScript</span><br><span class="line"> ( ) Progressive Web App (PWA) Support</span><br><span class="line"> (*) Router</span><br><span class="line">&gt;(*) Vuex</span><br><span class="line"> ( ) CSS Pre-processors</span><br><span class="line"> (*) Linter / Formatter</span><br><span class="line"> ( ) Unit Testing</span><br><span class="line"> ( ) E2E Testing</span><br><span class="line">然后呢是否使用<span class="built_in">history</span>模式 <span class="built_in">yes</span></span><br><span class="line">然后这里选择一个代码风格:标准的， Lint on save</span><br><span class="line">然后就是你的其他配置文件是在package.json里边存着还是单独存：</span><br><span class="line">然后问你是否将当前创建项目配置作为一个模板方便下次直接使用：n</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">PS D:\soft\develop\idea\pros\my\qianlearn\vuelearn\main\wuyou\vueRouter&gt; vue create ling-vue</span><br><span class="line"></span><br><span class="line">Vue CLI v5.0.8</span><br><span class="line">? Please pick a preset: Manually <span class="keyword">select</span> features</span><br><span class="line">? Check the features needed <span class="keyword">for</span> your project: Babel, Router, Vuex, Linter</span><br><span class="line">? Choose a version of Vue.js that you want to start the project with 2.x</span><br><span class="line">? Use <span class="built_in">history</span> mode <span class="keyword">for</span> router? (Requires proper server setup <span class="keyword">for</span> index fallback <span class="keyword">in</span> production) Yes</span><br><span class="line">? Pick a linter / formatter config: Standard  》 标准风格文件最后有个空行</span><br><span class="line">? Pick additional lint features: Lint on save</span><br><span class="line">? Where <span class="keyword">do</span> you prefer placing config <span class="keyword">for</span> Babel, ESLint, etc.? In dedicated config files</span><br><span class="line">? Save this as a preset <span class="keyword">for</span> future projects? (y/N) n</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>接下来VueCli会帮助将项目的工具跟依赖给安装好</p>
<blockquote>
<p>vueRouter&gt; cd ling-vue<br>ling-vue&gt; npm run serve</p>
</blockquote>
<p>对于页面：顶部多了一个可以切换的区域，点击后顶部的URL发生了变化</p>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p><a target="_blank" rel="noopener" href="https://v3.router.vuejs.org/zh/guide/#javascript">Vue Router (vuejs.org)</a></p>
<p>src里面多了两个部分，一个叫store一个叫router，每个里面都有一个index.js文件。</p>
<h3 id="router"><a href="#router" class="headerlink" title="router"></a>router</h3><ul>
<li><p>router 的 index.js 里：它是引入了一个 vue-router 的库，叫 VueRouter 类。然后通过 Vue.use 的方式引入Vue的官方插件。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span> <span class="comment">//引入了 vue-router 的库</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HomeView</span> <span class="keyword">from</span> <span class="string">&#x27;../views/HomeView.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>) <span class="comment">//通过 Vue.use 的方式引入Vue的官方插件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//一系列的配置</span></span><br><span class="line"><span class="keyword">const</span> routes = [ <span class="comment">//定义路由：每个路由应映射一个组件。 其中&quot;component&quot; 可以是通过 Vue.extend() 创建的组件构造器，或者只是一个组件配置对象。</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">HomeView</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;about&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: &quot;about&quot; */</span> <span class="string">&#x27;../views/AboutView.vue&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123; <span class="comment">//new VueRouter创建了一个 router 实例。然后传了 `routes` 配置+别的配置参数。</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">  <span class="attr">base</span>: process.<span class="property">env</span>.<span class="property">BASE_URL</span>,</span><br><span class="line">  routes  <span class="comment">// (缩写) 相当于 routes: routes</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router <span class="comment">// 然后做了一个导出</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>new VueRouter</p>
<ul>
<li>mode：如果不使用history，那他是默认的hash。默认的hash模式（兼容性更好）：会发现在路径上多了一个# ，使用 URL 的 hash 来模拟一个完整的 URL。而history模式的好处在于：URL 就像正常的 url，它看起来更好看。 <a target="_blank" rel="noopener" href="https://www.zhangshengrong.com/p/RmNP8BnPNk/">Vue中Router路由两种模式hash与history详解</a></li>
<li>base配置：是一个基础的地址。但现在也没有做配置</li>
<li>routes ：定义路由，配置地址对应的要显示的组件是哪个。是操作Vue Router的重点的位置。</li>
</ul>
</li>
<li><p>const routes&#x3D;[] 定义了路由信息</p>
<ul>
<li><p>&#x2F; 是根目录。这条路由还起了一个名字叫home 。（当路由定义的path是比较长的时候，就可以比较方便的通过home这个name来做代替）</p>
</li>
<li><p>component：这是你当前路由切换以后要显示哪个组件。component的配置方式有两种：<br>一种方式是你通过import的方式直接引入然后做一个相应处理。（ <code>import HomeView from &quot;../views/HomeView.vue&quot;;</code> ）<br>第二种方式是通过一个箭头减速函数的方式来做设置。（这块这个import的方式，是使用一个异步组件方式来做加载。还加了一个webpack的魔法注释，是为了在webpack打包的时候能够将多个组件进行一个统一打包的处理。）</p>
<blockquote>
<p><code>import</code>异步加载的写法实现页面模块<code>lazy loading</code>懒加载（<code>Vue</code>中的路由异步加载）：</p>
<p><code>Vue</code>中运用<code>import</code>的懒加载语句以及<code>webpack</code>的魔法注释，在项目进行<code>webpack</code>打包的时候，对不同模块进行代码分割，在首屏加载时，用到哪个模块再加载哪个模块，<u>实现懒加载进行页面的优化</u>。</p>
<ul>
<li><p>路由懒加载作为性能优化的一种手段，它能让路由组件延迟加载。</p>
</li>
<li><p>为延迟加载的路由<u>添加“魔法注释”</u>(webpackChunkName)<u>来自定义包名</u>，在打包时，该路由组件会被单独打包出来。作用就是<u>webpack在打包的时候</u>，对异步引入的库代码（lodash）进行代码分割时（需要配置webpack的SplitChunkPlugin插件），<u>为分割后的代码块取得名字</u> 。</p>
</li>
</ul>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="store"><a href="#store" class="headerlink" title="store"></a>store</h3><ul>
<li><p>store 的 index.js 里：是类似的。通过Vue.use引入了Vuex，也通过一个 new Vuex.Store 的方式,创建了一个Vuex的实例。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)<span class="comment">//通过Vue.use引入了Vuex</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//通过一个 new Vuex.Store 的方式,创建了一个Vuex的实例。</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="main-js"><a href="#main-js" class="headerlink" title="main.js"></a>main.js</h3><ul>
<li><p>最终呢这两个(router、store)导出的文件，在我们的入口 main.js 里面做了一个引入。并且在new Vue 实例的时候，也相应的传入了。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span> <span class="comment">//引入router</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span>   <span class="comment">//引入store</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建和挂载根实例。</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  router,<span class="comment">//通过 router 配置参数注入路由，从而整个应用都有路由功能</span></span><br><span class="line">  store, <span class="comment">//是一种配置项，与el,data等同级</span></span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"><span class="comment">// 现在，应用已经启动了！</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>通过注入路由器，我们可以在任何组件内通过 <code>this.$router</code> 访问路由器，也可以通过 <code>this.$route</code> 访问当前路由。</p>
<p>该文档通篇都常使用 <code>router</code> 实例。 <code>this.$router</code> 和 <code>router</code> 使用起来完全一样。使用 <code>this.$router</code> 的原因是我们并不想在每个独立需要封装路由的组件中都导入路由。</p>
<h2 id="App-vue导航切换"><a href="#App-vue导航切换" class="headerlink" title="App.vue导航切换"></a>App.vue导航切换</h2><p>你如何进行切换的操作，是靠着两个按钮的点击做切换。</p>
<ul>
<li><p>App.vue 里有一个 router-link 的标签，然后写了一个 to, to里面有路径。通过这个标签就可以帮助我们去修改当前的一个路由地址，以达到最终的一个组件切换效果。<a target="_blank" rel="noopener" href="https://v3.router.vuejs.org/zh/api/#router-link">API 参考 | router-link</a></p>
</li>
<li><p>还有一个叫 router-view 的标签，就表示你这个组件要显示在哪上面。切换哪个组件就会在这个地方做一个相应的显示。</p>
<ul>
<li><strong>router-view</strong> 当你的路由<strong>path 与访问的地址相符时</strong>，会<strong>将指定的组件</strong>替换该 router-view。（如果写2个 router-view就会展示双份）</li>
</ul>
</li>
<li><p>这就是vue router给我们提供的两个组件，一个叫router-link，一个叫router-view 。</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 使用 router-link 组件来导航. --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 通过传入 `to` 属性指定链接. --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- &lt;router-link&gt; 默认会被渲染成一个 `&lt;a&gt;` 标签 --&gt;</span>   </span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> |</span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> |</span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123;name:&#x27;about&#x27;&#125;&quot;</span>&gt;</span>About22<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 路由出口 --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 路由匹配到的组件将渲染在这里 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在操作的时候，除了可以使用path（to）的方式以外，还可以使用name的方式来做操作。</p>
<ul>
<li>使用name的方式的话，用冒号的方式做一个属性绑定，然后在里边写一个对象name 。</li>
</ul>
<h2 id="一个路由案例"><a href="#一个路由案例" class="headerlink" title="一个路由案例"></a>一个路由案例</h2><p>那下边我们自己来写一个组件</p>
<ul>
<li>1、首先你需要去配置一个相应的页面，然后里边配置一些记录信息。（views\VideoView.vue）</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是VideoView.vue里面的一个视频信息<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">name</span>: <span class="string">&#x27;VideoView&#x27;</span></span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>2、然后配置路由信息，先import引入，再定义路由信息 path name component（router\index.js）<ul>
<li>这样后，你可以通过路由path访问到组件，但首页没有它的导航。</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">VideoView</span> <span class="keyword">from</span> <span class="string">&#x27;../views/VideoView.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span> <span class="comment">// 引入了 vue-router 的库</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>) <span class="comment">// 通过 Vue.use 的方式引入Vue的官方插件</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [ <span class="comment">// 定义路由：每个路由应映射一个组件。</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">HomeView</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;about&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: &quot;about&quot; */</span> <span class="string">&#x27;../views/AboutView.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/video&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;video&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">VideoView</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123; <span class="comment">// new VueRouter创建了一个Vue实例</span></span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;history&#x27;</span>, <span class="comment">// mode:使用history模式创建路由</span></span><br><span class="line">  <span class="attr">base</span>: process.<span class="property">env</span>.<span class="property">BASE_URL</span>,</span><br><span class="line">  routes <span class="comment">// 是操作Vue Router的重点的位置</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router <span class="comment">// new VueRouter创建了一个Vue实例</span></span><br></pre></td></tr></table></figure>

<ul>
<li>3、之后在App.vue里面，使用 router-link 的标签进行组件导航。<ul>
<li>有导航，点击导航中的，会跳转to的路径。有了path后，由于配置了路由信息，直接可以访问到相应的组件。</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 使用 router-link 组件来导航. --&gt;</span>   </span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> |</span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> |</span><br><span class="line">      <span class="comment">&lt;!-- &lt;router-link :to=&quot;&#123;name:&#x27;about&#x27;&#125;&quot;&gt;About22 &lt;/router-link&gt;| --&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- &lt;router-link to=&quot;/video&quot;&gt;Video&lt;/router-link&gt; --&gt;</span> </span><br><span class="line">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123;name:&#x27;video&#x27;&#125;&quot;</span>&gt;</span>Videoy呀<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 路由出口 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">......</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>路由使用技巧。</p>
<h2 id="动态路由"><a href="#动态路由" class="headerlink" title="动态路由"></a>动态路由</h2><p><a target="_blank" rel="noopener" href="https://v3.router.vuejs.org/zh/guide/essentials/dynamic-matching.html">动态路由匹配 | Vue Router (vuejs.org)</a></p>
<p>对于所有 ID 各不相同的用户，都要使用这个组件来渲染。那么，我们可以在 <code>vue-router</code> 的路由路径中使用“<strong>动态路径参数</strong>”(dynamic segment) 来达到这个效果：</p>
<blockquote>
<p>动态路径参数 以冒号开头。</p>
</blockquote>
<p>希望在一个path匹配的时候能够将不同的ID，做统一匹配的话，就在path上以冒号的方式来书写。（加冒号了它就是动态的。<br>那这个动态路由设置好以后呢，如果你希望<strong>在组件内部可以访问到这个动态路由的ID的值</strong>的话，我们可以在路由配置上加props:true , 那在相应组件内部就可以通过props的方式来做一个接收了。</p>
<p>导航组件的 to 属性可以以path的方式，也可以通过name的方式写（通过params）。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//router\index.js</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/video/:id&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;video&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">VideoView</span>,</span><br><span class="line">    <span class="attr">props</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//views\VideoView.vue</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是VideoView.vue里面的一个视频信息<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>获取到的视频Id为：&#123;&#123; id &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;VideoView&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>: [<span class="string">&#x27;id&#x27;</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//App.vue里</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> |</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> |</span></span><br><span class="line"><span class="language-xml"> <span class="comment">&lt;!-- 参数值以path的方式 --&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/video/30&quot;</span>&gt;</span>Video<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> |</span></span><br><span class="line"><span class="language-xml"> <span class="comment">&lt;!--  参数值以name的方式 --&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123;name:&#x27;video&#x27;, params:&#123;id:28&#125;&#125;&quot;</span>&gt;</span>Videoy呀<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a>嵌套路由</h2><p><a target="_blank" rel="noopener" href="https://v3.router.vuejs.org/zh/guide/essentials/nested-routes.html">嵌套路由 | Vue Router (vuejs.org)</a></p>
<p>但是我可能还会对视频有一些更加细分的子功能，我一级的这个功能里边还会有二级功能，即就可能会有二级的路由子组件。</p>
<ul>
<li><p>那么这时的配置方式就需要在这router的index.js里加一个叫做children的配置项，children是个数组，需要包含多条子路由。在子路由里，需要变的只有后边的部分。实际是先从父路由开始看（是父+子的路径）。</p>
</li>
<li><p>操作切换的时候：因为videoview这个组件里面要有二级路由，就在父组件VideoView里配置导航路由的切换。</p>
<ul>
<li>注意： router-view是做相应的展示。</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//router\index.js</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/video/:id&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;video&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">VideoView</span>, <span class="comment">// 嵌套2级路由</span></span><br><span class="line">    <span class="comment">// 当/video/:id/info1 匹配成功，</span></span><br><span class="line">    <span class="comment">// VideoInfo1 会被渲染在 VideoView 的 &lt;router-view&gt; 中</span></span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">      &#123; <span class="attr">path</span>: <span class="string">&#x27;info1&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;video-info1&#x27;</span>, <span class="attr">component</span>: <span class="title class_">VideoInfo1</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">path</span>: <span class="string">&#x27;info2&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;video-info2&#x27;</span>, <span class="attr">component</span>: <span class="title class_">VideoInfo2</span> &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">props</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// views\video\VideoInfo1.vue</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;video-info1&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>点赞二级组件：video-Info1<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;video-info1&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//父组件VideoView.vue里</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是VideoView.vue里面的一个视频信息<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123;name:&#x27;video-info1&#x27;, params:&#123;id:28&#125;&#125;&quot;</span>&gt;</span>点赞<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> |</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">&quot;&#123;name:&#x27;video-info2&#x27;, params:&#123;id:28&#125;&#125;&quot;</span>&gt;</span>互动<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">router-view</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="编程式的导航"><a href="#编程式的导航" class="headerlink" title="编程式的导航"></a>编程式的导航</h2><p><a target="_blank" rel="noopener" href="https://v3.router.vuejs.org/zh/guide/essentials/navigation.html">编程式的导航 | Vue Router (vuejs.org)</a></p>
<p>1、在代码处理中，除了用户能够操作以外，我们希望程序自己做一些主动跳转、网页自动跳转（如：登录过期就跳转到首页）</p>
<ul>
<li><p>created：是当实例创建完毕以后，会执行的生命周期钩子。  <a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/api/#created">生命周期钩子。</a></p>
</li>
<li><p>this.$router：<strong>在 Vue 实例内部，你可以通过 <code>$router</code> 访问路由实例。</strong></p>
<ul>
<li>使用 <code>router.push</code> 方法可以导航到不同的 URL。这个方法会向 history 栈添加一个新的记录，所以，当用户点击浏览器后退按钮时，则回到之前的 URL。</li>
</ul>
<p>当点击 <code>&lt;router-link&gt;</code> 时，这个 <code>router.push</code> 方法会在内部调用。所以说，点击 <code>&lt;router-link :to=&quot;...&quot;&gt;</code> 等同于调用 <code>router.push(...)</code>。</p>
<table>
<thead>
<tr>
<th>声明式</th>
<th>编程式</th>
</tr>
</thead>
<tbody><tr>
<td><code>&lt;router-link :to=&quot;...&quot;&gt;</code></td>
<td><code>router.push(...)</code></td>
</tr>
</tbody></table>
<ul>
<li>可以在任何组件内通过 <code>this.$router</code> 访问路由器。也可以通过 <code>this.$route</code> 访问当前路由：</li>
<li>router是用来进行一些路由操作的工具，一些动作。</li>
<li>route：如果要看一些路由相关的数据，比如地址、一些相应的参数、就可以通过route<br>来操作。</li>
</ul>
</li>
<li><p>setTimeOut：防止跳转得太快，看不到过程。比如说3秒以后。</p>
</li>
</ul>
<p>也就意味着当我切到info1的时候，它会在3秒后把我们自动跳回到home。实际上用户虽然没有去点home，但是自动回到home的一个方式，也就是这种编程式路由的触发方式。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;video-info1&#x27;</span>,</span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;home&#x27;</span> &#125;)<span class="comment">//导航到这个 URL。并且当用户点击浏览器后退按钮时，则回到之前的 URL。</span></span><br><span class="line">    &#125;, <span class="number">3000</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>2、希望在跳转路由的时候，想进行一些数据的传递。</p>
<ul>
<li>可以通过query的方式进行一些数据设置，</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//================ VideoInfo1.vue ================ </span></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;video-info1&#x27;</span>,</span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// this.$router.push(&#123; name: &#x27;home&#x27; &#125;)</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;video-info2&#x27;</span>, <span class="attr">query</span>: &#123; <span class="attr">someData</span>: <span class="string">&#x27;Info1向Info2传递的数据&#x27;</span> &#125; &#125;)</span><br><span class="line">      <span class="comment">// 这意味着在3秒后会转到 video-info2 并做一些数据传递。</span></span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//================  VideoInfo2.vue  ================ </span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;video-info2&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// &#123;someData: &#x27;Info1向Info2传递的数据&#x27;&#125;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>那么这样就实现了：在路由切换的过程中，能够进行一些数据的传递。</p>
<h2 id="导航守卫"><a href="#导航守卫" class="headerlink" title="导航守卫"></a>导航守卫</h2><p>导航守卫也意味着除了你可以干预某一次的导航操作以外，你还可以呢去给所有导航统一做设置。</p>
<blockquote>
<p>比如：加一个加载中的这种小效果。那意味着你每一次路由器的时候，其实都需要。</p>
</blockquote>
<ul>
<li><p><code>router.beforeEach</code> 注册一个全局前置守卫：是<strong>在你每一次导航被触发</strong>的之前，它都会进行这个守卫的触发。</p>
</li>
<li><p>（）中是函数，需要接受三个值 to from next 。</p>
</li>
<li><p>比如说你从a切到b，是from a toB 。然后next是让程序继续往后走的方式。</p>
  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//router 的 index.js 里：在 new VueRouter下方的语句</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;路由触发了&#x27;</span>)</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h1><p><a target="_blank" rel="noopener" href="https://v3.vuex.vuejs.org/zh/">Vuex 是什么？ | Vuex (与 Vue 2 匹配的 Vuex 3 的文档)</a></p>
<p>Vue官方的，全局状态管理工具VueX，来进行状态的管理，集中式存储管理应用的所有组件的状态。</p>
<p>它只是一个统一的数据存储方式。</p>
<p>在 store\index.js文件里：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="title function_">state</span> () &#123; <span class="comment">//全局用，不建议改变</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">loginStatus</span>: <span class="string">&#x27;用户已经登录&#x27;</span>,</span><br><span class="line">      <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="state存"><a href="#state存" class="headerlink" title="state存"></a>state存</h2><ul>
<li><p>state 就是一个存数据的地方。可以<strong>全局存</strong>，然后其他<strong>任意组件位置都可以去访问</strong>。</p>
<ul>
<li><p>你要存的话，需要先把这个数据在这做一个声明，声明之后就可以在任意的地方去用了。建议：把这个值写成函数的方式，类似于在组件里边使用的那个data。然后这里边我们就可以写一些值了</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;video-info2&#x27;</span>,</span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">loginStatus</span>) <span class="comment">//进行访问</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>全局用的，不建议改。如果要改，只能在mutation里边操作</p>
</li>
</ul>
</li>
</ul>
<h2 id="mutation改"><a href="#mutation改" class="headerlink" title="mutation改"></a>mutation改</h2><ul>
<li><p>mutation：如果你希望在全局中去修改状态的话。</p>
<ul>
<li><p>你任意的一个修改，都在 mutation 里面去封装一次，<strong>mutation 相当于 methods</strong>，就是一个函数。</p>
</li>
<li><p>方法：这里边能接第一个参数叫 state，就是你希望去访问到state.里边的count</p>
</li>
<li><p>访问：注意它不是直接去访问那个 mutation，而是<strong>通过commit的方式做一个提交</strong>。这第一个参数 mutation的名称，比如 changeCount 。然后参数2写你的值。</p>
</li>
<li><p>mutations它必须是同步的。</p>
<ul>
<li>vue devtools 它里边可以去监测一些相关的内容，比如说我们可以看到有组件。<ul>
<li>时间线timeline这个timeline可以记录应用的在做一些操作 或者一些种状态变更的时候，你能够在这个过程中看到，在每个时间点都干了什么事，他有一个清晰的记录，但必须是同步的。（点击选择Vuex Mutations再start recording，再刷新）</li>
<li>假如是异步的，他只能记住你最终的结果。</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">mutations</span>: &#123;</span><br><span class="line">  <span class="title function_">changeCount</span>(<span class="params">state, num</span>) &#123;</span><br><span class="line">    state.<span class="property">count</span> += num</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mutation执行了，count值为&#x27;</span>, state.<span class="property">count</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>在VideoInfo2.vue里：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;video-info2&#x27;</span>,</span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">loginStatus</span>)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">handelCount</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">handelCount</span> () &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;changeCount&#x27;</span>, <span class="number">1</span>) <span class="comment">// state.count += num</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;changeCount&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;changeCount&#x27;</span>, <span class="number">3</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="actions异步"><a href="#actions异步" class="headerlink" title="actions异步"></a>actions异步</h2><p>actions:这是用来做异步包装的。 异步的，只能记住你最终的结果。</p>
<ul>
<li><p>使用：就是你需要在mutation上包一层。</p>
</li>
<li><p>比如：我希望他延迟一段时间去出发，</p>
<ul>
<li>这里呢接第一个叫store，所有的state的修改都是在mutation里边去做的，你只能通过store点commit的方式，来去执行changeCount。然后再把你的NUM传进来。</li>
<li>使用：这块我们使用dispatch，就是执行的意思。</li>
</ul>
</li>
</ul>
<p>场景：如果你要用时间线工具，就要通过 actions 来做异步处理，利于在调试工具里面，去看它相关的状态。</p>
<p>如果你希望在全局中去修改状态的话</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">mutations</span>: &#123;</span><br><span class="line">  <span class="title function_">changeCount</span>(<span class="params">state, num</span>) &#123;</span><br><span class="line">    state.<span class="property">count</span> += num</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">  <span class="title function_">delayChangeCount</span> (store, num) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      store.<span class="title function_">commit</span>(<span class="string">&#x27;changeCount&#x27;</span>, num)</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>在VideoInfo2.vue里：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;video-info2&#x27;</span>,</span><br><span class="line">      <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">handelCount</span>()</span><br><span class="line">      &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">handelCount</span> () &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;changeCount&#x27;</span>, <span class="number">1</span>) <span class="comment">// state.count += num</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;changeCount&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;delayChangeCount&#x27;</span>, <span class="number">10</span>) <span class="comment">// 调用异步的</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;changeCount&#x27;</span>, <span class="number">3</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="getters缓存"><a href="#getters缓存" class="headerlink" title="getters缓存"></a>getters缓存</h2><p>getters就相当于我们的计算属性啊，它是有一个缓存功能。</p>
<ul>
<li>如果调用多次，但是因为内容没有变，所以他只有一回。<ul>
<li>下面的输出结果：<ul>
<li>getters执行了（1次）</li>
<li>6（3次）</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">state</span> () &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">loginStatus</span>: <span class="string">&#x27;用户已经登录&#x27;</span>,</span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">getters</span>: &#123;</span><br><span class="line">  <span class="title function_">len</span> (state) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;getters执行了&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> state.<span class="property">loginStatus</span>.<span class="property">length</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>在VideoInfo2.vue里：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;video-info2&#x27;</span>,</span><br><span class="line">      <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">handelCount</span>()</span><br><span class="line">      &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">handelCount</span> () &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">len</span>)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">len</span>)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">len</span>) </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h2><p><a target="_blank" rel="noopener" href="https://v3.vuex.vuejs.org/zh/guide/modules.html">Module | Vuex (vuejs.org)</a></p>
<ul>
<li>Vuex 允许我们将 store 分割成<strong>模块（module）</strong>。每个模块拥有自己的 state、mutation、action、getter、甚至是嵌套子模块——从上至下进行同样方式的分割：</li>
</ul>
<p>不同的功能需要有不同的全局处理。比如说a里面全局有俩值，当然这俩值不需要被b用。<br>这种情况下为了避免混乱，让数据更好管理一些，就可以使用模块。</p>
<ul>
<li>写法：它这里边呢包含一个a，可能包含一个b。a里边有什么呢，有state、什么mutation、actions，b里边呢其实也是一样的这一堆。</li>
<li>使用：用的时候就会变成：比如变成store点a，就多包了一层。</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_60337445/article/details/122891271">Vuex中modules的用法_vuex中的modules创建使用-CSDN博客</a></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">modules</span>: &#123;</span><br><span class="line">    <span class="attr">modA</span>: &#123; <span class="comment">// 建议单独写个文件里面，moduleA.js里。</span></span><br><span class="line">      <span class="title function_">state</span> () &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          <span class="attr">aloginStatus</span>: <span class="string">&#x27;aaa用户已经登录&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">mutations</span>: &#123;</span><br><span class="line">        <span class="title function_">changeCount</span>(<span class="params">state, num</span>) &#123;</span><br><span class="line">          state.<span class="property">count</span> += num</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;amutation执行了，count值为&#x27;</span>, state.<span class="property">count</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在VideoInfo2.vue里：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;video-info2&#x27;</span>,</span><br><span class="line">      <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">handelCount</span>()</span><br><span class="line">      &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">handelCount</span> () &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">loginStatus</span>)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">modA</span>.<span class="property">aloginStatus</span>) <span class="comment">//访问state是这样，其他参考别的。</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h1 id="综合案例"><a href="#综合案例" class="headerlink" title="综合案例"></a>综合案例</h1><p>参考这个：<a target="_blank" rel="noopener" href="https://todomvc.com/examples/vue/dist/#/">TodoMVC: Vue</a></p>
<h2 id="项目创建"><a href="#项目创建" class="headerlink" title="项目创建"></a>项目创建</h2><p>直接通过create-vue的方式</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">npm create vue@<span class="number">2</span></span><br><span class="line">Ok to proceed? (y) y</span><br><span class="line"></span><br><span class="line">Vue.js - The Progressive JavaScript Framework</span><br><span class="line"></span><br><span class="line">? Project name: » ling-todos</span><br><span class="line"></span><br><span class="line"># 下面全选no(ESLint 也是no)</span><br><span class="line">√ Project name: ... ling-todos</span><br><span class="line">√ Add TypeScript? ... No / Yes</span><br><span class="line">√ Add JSX Support? ... No / Yes</span><br><span class="line">√ Add Vue Router <span class="keyword">for</span> Single Page Application development? ... No / Yes</span><br><span class="line">√ Add Pinia <span class="keyword">for</span> state management? ... No / Yes</span><br><span class="line">√ Add Vitest <span class="keyword">for</span> Unit Testing? ... No / Yes</span><br><span class="line">√ Add Cypress <span class="keyword">for</span> both Unit and End-to-End testing? ... No / Yes</span><br><span class="line">√ Add ESLint <span class="keyword">for</span> code quality? ... No / Yes</span><br><span class="line"></span><br><span class="line">Scaffolding project <span class="keyword">in</span> D:\soft\develop\idea\pros\my\qianlearn\vuelearn\main\wuyou\finalCase\ling-todos...</span><br><span class="line"></span><br><span class="line">Done. Now run:</span><br><span class="line"></span><br><span class="line">  <span class="built_in">cd</span> ling-todos</span><br><span class="line">  npm install</span><br><span class="line">  npm run dev</span><br><span class="line"># 然后就进行上面的<span class="number">3</span>个命令了。</span><br></pre></td></tr></table></figure>

<p>好项目运行完毕我们打开一下，那这块默认的就是vue2项目</p>
<ul>
<li>基础结构：<ul>
<li>更改：而我们现在需要准备一些静态结构。</li>
<li>那这里没必要自己写那些HTML，用github的todomvc-app-template <a target="_blank" rel="noopener" href="https://github.com/tastejs/todomvc-app-template">GitHub-todomvc-app-template:</a></li>
<li>替换App.vue里面的div，style，script也换。</li>
</ul>
</li>
</ul>
<h2 id="功能制作"><a href="#功能制作" class="headerlink" title="功能制作"></a>功能制作</h2><p><a target="_blank" rel="noopener" href="https://todomvc.com/examples/vue/dist/#/">TodoMVC: Vue</a></p>
<p>首先需要响应式数据——data 。</p>
<ul>
<li>存很多个todo事项，用数组结构。而每个todo事项用对象。</li>
</ul>
<p>实现功能</p>
<h3 id="1勾选"><a href="#1勾选" class="headerlink" title="1勾选"></a>1勾选</h3><p>1、点击打钩后是完成状态</p>
<p>首先要v-for进行展示，完成状态：class&#x3D;”completed” 。</p>
<p>点击打钩后是完成状态：先使用v-bind，但勾选并没有改变状态。这是因为我们去进行界面操作了他并没有反向返回给数据，故使用v-model指令。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">todos</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="number">11</span>,</span><br><span class="line">            <span class="attr">title</span>: <span class="string">&#x27;事项1&#x27;</span>,</span><br><span class="line">            <span class="attr">completed</span>: <span class="literal">true</span></span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="number">22</span>,</span><br><span class="line">            <span class="attr">title</span>: <span class="string">&#x27;事项2&#x27;</span>,</span><br><span class="line">            <span class="attr">completed</span>: <span class="literal">false</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">    </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,    </span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;ul class=&quot;todo-list&quot;&gt;</span><br><span class="line">        &lt;li </span><br><span class="line">        v-for=&quot;todo in todos&quot; </span><br><span class="line">        :key=&quot;todo.id&quot;</span><br><span class="line">        :class=&quot;&#123;completed: todo.completed&#125;&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;view&quot;&gt;</span><br><span class="line">            &lt;input class=&quot;toggle&quot; type=&quot;checkbox&quot; </span><br><span class="line">            v-model=&quot;todo.completed&quot;&gt;</span><br><span class="line">            &lt;label&gt;&#123;&#123;todo.title&#125;&#125;&lt;/label&gt;</span><br><span class="line">            &lt;button class=&quot;destroy&quot;&gt;&lt;/button&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">          &lt;input class=&quot;edit&quot; value=&quot;Create a TodoMVC template&quot;&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>

<h3 id="toggleAll"><a href="#toggleAll" class="headerlink" title="toggleAll"></a>toggleAll</h3><p>2、toggleAll，全部打钩-全部是完成状态，全部取消。</p>
<p>图标的背后竟然是个checked复选框，他有选中or取消的状态。</p>
<p>点击之后有个函数，</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">   &lt;input @click=<span class="string">&quot;toggleAll&quot;</span></span><br><span class="line">      id=<span class="string">&quot;toggle-all&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;toggle-all&quot;</span> type=<span class="string">&quot;checkbox&quot;</span>&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;toggle-all&quot;</span>&gt;</span>Mark all as complete<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line">      </span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="title function_">toggleAll</span>(<span class="params">event</span>) &#123;<span class="comment">//实现点击之后全部是完成/取消状态。</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;type:&quot;</span>+ event.<span class="property">type</span>) <span class="comment">//click</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">target</span>) <span class="comment">//触发元素：&lt;input id=...class=&quot;toggle-all&quot;&gt;</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;checked：&quot;</span>+ event.<span class="property">target</span>.<span class="property">checked</span>) <span class="comment">//checkbox的选中状态</span></span><br><span class="line">          <span class="comment">//对数组的每一项进行操作。遍历数组，进行操作</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">todos</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">todo</span> =&gt;</span> &#123;</span><br><span class="line">          todo.<span class="property">completed</span> = event.<span class="property">target</span>.<span class="property">checked</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;    </span><br><span class="line">&#125;,            </span><br></pre></td></tr></table></figure>

<h3 id="筛选visibility"><a href="#筛选visibility" class="headerlink" title="筛选visibility"></a>筛选visibility</h3><p>3、处理All、Active、Completed的可见性</p>
<ul>
<li><p>如果实现点击之后,对应筛选出未完成的todo ，筛选后：v-for的内容就不是todos，初始情况下怎么确定是all的状态？</p>
</li>
<li><p>应该不是简单的点击，应该是与路径有关。</p>
</li>
<li><p>url上hash值，对应筛选出不同状态的todo</p>
</li>
</ul>
<p>就需要去辨别一下当前hash的值（做一个hash值的监控），它是一个什么样的情况，然后在列表里对todos相应的做一个处理就可以了。</p>
<p>1）先辨别一下当前hash的值（做一个hash值的监控），它是一个什么样的情况。</p>
<ul>
<li><strong>监控hash值</strong>，hash的改变不会导致页面重新加载。应该是实例被挂载后就触发吧——mounted。<br>当你的元素挂载完毕以后，在mounted钩子里面做操作。</li>
<li>但处理的操作肯定不能在生命周期钩子里去写，而是应该用单独的methods来操作（获取hash值）。<ul>
<li>window.location.hash就可以获取到hash的值，但控制台打印后可发现它其实是包含一些额外部分的。去除掉不需要的部分。</li>
<li>字符串的replace替换，但是 杠&#x2F; 跟正则标识是一样的，所以加一个反斜线转义一下。写个问号就是&#x2F;是有或者是没有，有只能有一次。然后匹配完的时候变成替换成空。</li>
</ul>
</li>
</ul>
<p>2）然后在列表里对todos相应的做一个处理。</p>
<ul>
<li><p>利用visibility进行最终这个todos的筛选啊</p>
<ul>
<li>为了<u>不让它每次都重新做操作，直接给他一个计算属性</u>，这里边首先就是要根据你的this点visibility，返回的todo里面的数据也不一样。</li>
<li>这块我们直接return了，所以连break都没必要写了。</li>
</ul>
</li>
<li><p>筛选后的结果应该是在初始v-for的时候就取得，就使用。。</p>
</li>
</ul>
<p>如果是active了，那就需要从todos里面遍历，就通过filter（是一个数组方法）</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">todos</span>: [...],</span><br><span class="line">        <span class="attr">visibility</span>: <span class="string">&#x27;all&#x27;</span> <span class="comment">//默认是all的状态。</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">      <span class="title function_">hashChangeDeal</span>(<span class="params"></span>)&#123; <span class="comment">// hash值变化了：</span></span><br><span class="line">        <span class="comment">// 获取url的hash值。当前的可见性用visibility（全局存作为属性，因为要用它。）</span></span><br><span class="line">        <span class="keyword">const</span> ahash = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">hash</span>; <span class="comment">// 将#/替换为空 </span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ahash:&#x27;</span>+ ahash) <span class="comment">// 是#/completed</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">visibility</span> = ahash.<span class="title function_">replace</span>(<span class="regexp">/#\/?/</span>,<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;mounted:&#x27;</span>+ <span class="variable language_">this</span>.<span class="property">visibility</span>) <span class="comment">// 是completed</span></span><br><span class="line">      &#125; </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">computed</span>:&#123; <span class="comment">// 利用visibility进行最终这个todos的筛选啊</span></span><br><span class="line">      <span class="title function_">filterTodos</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">switch</span> (<span class="variable language_">this</span>.<span class="property">visibility</span>) &#123;</span><br><span class="line">          <span class="keyword">case</span> <span class="string">&#x27;all&#x27;</span>: <span class="comment">// href=&quot;#/all&quot; 改成all （语义更强）</span></span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">todos</span></span><br><span class="line">          <span class="keyword">case</span> <span class="string">&#x27;active&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">todos</span>.<span class="title function_">filter</span>( <span class="function"><span class="params">todo</span> =&gt;</span> !todo.<span class="property">completed</span>)</span><br><span class="line">          <span class="keyword">case</span> <span class="string">&#x27;completed&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">todos</span>.<span class="title function_">filter</span>( <span class="function"><span class="params">todo</span> =&gt;</span> todo.<span class="property">completed</span>)</span><br><span class="line">          <span class="attr">default</span>:</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">visibility</span> = <span class="string">&#x27;all&#x27;</span></span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">todos</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">mounted</span>(<span class="params"></span>) &#123; <span class="comment">// 监控hash值是否变化：</span></span><br><span class="line">      <span class="comment">// 当URL的片段标识符更改时，将触发hashchange事件，然后调用自定义函数处理。</span></span><br><span class="line">      <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;hashchange&#x27;</span>, <span class="variable language_">this</span>.<span class="property">hashChangeDeal</span>);</span><br><span class="line">    &#125;,   </span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"><span class="comment">//并且li标签里改为计算属性。</span></span><br><span class="line"> <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>  <span class="attr">v-for</span>=<span class="string">&quot;todo in filterTodos&quot;</span> <span class="attr">......</span>&gt;</span> <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="筛选后红框框"><a href="#筛选后红框框" class="headerlink" title="筛选后红框框"></a>筛选后红框框</h3><p>3、处理All、Active、Completed选中后有红框框。</p>
<ul>
<li>红框框是 class&#x3D;selected的类。</li>
<li>v-bind绑定，利用visibility进行最终这个todos的筛选啊，也判断当前visibility是否是select的。</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;filters&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;selected: visibility ==&#x27;all&#x27;&#125;&quot;</span>  <span class="attr">href</span>=<span class="string">&quot;#/all&quot;</span>&gt;</span>All<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;selected: visibility ==&#x27;active&#x27;&#125;&quot;</span>  <span class="attr">href</span>=<span class="string">&quot;#/active&quot;</span>&gt;</span>Active<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;selected: visibility ==&#x27;completed&#x27;&#125;&quot;</span>  <span class="attr">href</span>=<span class="string">&quot;#/completed&quot;</span>&gt;</span>Completed<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="刷新后"><a href="#刷新后" class="headerlink" title="刷新后"></a>刷新后</h3><p>4、刷新后避免重新加载，仍然是Active或Completed的状态。</p>
<ul>
<li>现在：刷新后仍然是这个url，但是是all状态的todos 。URL没有变化，但响应不对。</li>
<li>所以为了在刷新的时候，也能够正常去进行。就在mounted的时候主动调一次hashChangeDeal函数（代表即使URL没有变化，但页面内容渲染完成后也要保持一致性。</li>
<li>使得：刷新后可以去，切换到我们这个active的一个情况。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 监控hash值是否变化：</span></span><br><span class="line">  <span class="comment">// 当URL的片段标识符更改时，将触发hashchange事件，然后调用自定义函数处理。</span></span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;hashchange&#x27;</span>, <span class="variable language_">this</span>.<span class="property">hashChangeDeal</span>);</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">hashChangeDeal</span>()</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h3 id="计数"><a href="#计数" class="headerlink" title="计数"></a>计数</h3><p>5、比如说我们的多少个元素。</p>
<ul>
<li>?  items left 指的是未完成的。</li>
<li>直接算，也可以用计算属性的return</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;span <span class="keyword">class</span>=<span class="string">&quot;todo-count&quot;</span>&gt;<span class="language-xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>&#123;&#123; todos.filter(todo =&gt; !todo.completed).length &#125;&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span> item left&lt;/span&gt;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//或者是计算属性的return</span></span><br><span class="line">      <span class="title function_">itemsLeft</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">todos</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">todo</span> =&gt;</span> !todo.<span class="property">completed</span>).<span class="property">length</span></span><br><span class="line">      &#125;</span><br><span class="line"> &lt;span <span class="keyword">class</span>=<span class="string">&quot;todo-count&quot;</span>&gt;<span class="language-xml"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>&#123;&#123; itemsLeft &#125;&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span> item left&lt;/span&gt;</span><br></pre></td></tr></table></figure>

<h3 id="新增"><a href="#新增" class="headerlink" title="新增"></a>新增</h3><p>6、输入框新增</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Hero_rong/article/details/82685423">往数组里面添加对象，往对象里面添加元素_对象数组添加元素-CSDN博客</a></p>
<ul>
<li><p>回车——调用函数。</p>
</li>
<li><p>可以百度：JavaScript 获取 input 输入框内容</p>
</li>
<li><p>注意：使用事件对象event，那定义函数使用<strong>addItem</strong>(e) {}，<strong>调用</strong>函数方式要写<strong>成不带括号</strong>的”addItem”。</p>
<blockquote>
<p>如果写成带带括号的”addItem()”，会报错。</p>
</blockquote>
</li>
</ul>
<p>！！！！注意输入的内容需要去除前后空格，并且为空时不算！！！。  </p>
<p>！！！回车后，清除输入框内容。——（仔细看操作前后的变化！！！）</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// methods:里</span></span><br><span class="line">      <span class="title function_">addItem</span>(<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="comment">// console.log(e.target) // &lt;input placeholder=&quot;What...&gt;</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">target</span>.<span class="property">value</span>) <span class="comment">// 获取 input 输入框内容</span></span><br><span class="line">        <span class="comment">//注意要去除前后空格，并且为空时不算。</span></span><br><span class="line">        <span class="comment">//新增</span></span><br><span class="line">        <span class="keyword">const</span> title1= e.<span class="property">target</span>.<span class="property">value</span>.<span class="title function_">trim</span>();</span><br><span class="line">        <span class="keyword">if</span>(!title1)&#123;</span><br><span class="line">          <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> todo = &#123;<span class="attr">id</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>(), <span class="attr">title</span>:title1, <span class="attr">completed</span>: <span class="literal">false</span>&#125;</span><br><span class="line">        <span class="comment">// console.log(todo) // &#123;id: 1714469430306, title: &#x27;111111&#x27;, completed: false&#125;</span></span><br><span class="line">        <span class="comment">// this.todos.push(todo) //向数组的末尾添加一个</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">todos</span>.<span class="title function_">unshift</span>(todo) <span class="comment">//向数组的开头添加。也可直接用大括号添加对象。</span></span><br><span class="line">        <span class="comment">//回车后，清除输入框内容。</span></span><br><span class="line">        e.<span class="property">target</span>.<span class="property">value</span>=<span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="comment">// console.log(this.todos)</span></span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">// template里</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;new-todo&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;addItem&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;What needs to be done?&quot;</span> <span class="attr">autofocus</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="删除单个"><a href="#删除单个" class="headerlink" title="删除单个"></a>删除单个</h3><p>7、删除单个。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// methods:里</span></span><br><span class="line">      <span class="title function_">deleteItem</span>(<span class="params">id</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;deleteItem: &#x27;</span>) <span class="comment">// &lt;input placeholder=&quot;What...&gt;</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(id) <span class="comment">// &lt;input placeholder=&quot;What...&gt;</span></span><br><span class="line">        <span class="comment">//使用filter()方法删除元素 </span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">todos</span> = <span class="variable language_">this</span>.<span class="property">todos</span>.<span class="title function_">filter</span>( <span class="function"><span class="params">todo</span> =&gt;</span> todo.<span class="property">id</span> != id)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">todos</span>)</span><br><span class="line">        <span class="comment">//需要再刷新下吗？ ——事实不需要，v-for就是实时的。</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// template里</span></span><br><span class="line">&lt;button <span class="keyword">class</span>=<span class="string">&quot;destroy&quot;</span> @click=<span class="string">&quot;deleteItem(todo.id)&quot;</span>&gt;&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<p>方法2：:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// methods:里</span></span><br><span class="line">      <span class="title function_">deleteItem</span>(<span class="params">todo</span>) &#123;</span><br><span class="line">        <span class="comment">//使用splice()方法 删除指定元素，需要查找下标。</span></span><br><span class="line">        <span class="comment">//下标用indexOf</span></span><br><span class="line">        <span class="keyword">let</span> idx = <span class="variable language_">this</span>.<span class="property">todos</span>.<span class="title function_">indexOf</span>(todo)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">todos</span>.<span class="title function_">splice</span>(idx, <span class="number">1</span>) <span class="comment">// 从下标为idx的位置开始，删除1个元素。</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(idx) </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">todos</span>) <span class="comment">//splice直接改变原始数组。</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// template里</span></span><br><span class="line">&lt;button <span class="keyword">class</span>=<span class="string">&quot;destroy&quot;</span> @click=<span class="string">&quot;deleteItem(todo)&quot;</span>&gt;&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<h3 id="clear完成的"><a href="#clear完成的" class="headerlink" title="clear完成的"></a>clear完成的</h3><p>8、清除已经完成的。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// methods:里</span></span><br><span class="line">      <span class="title function_">clearCompleted</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// 清除已经完成的。</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">todos</span> = <span class="variable language_">this</span>.<span class="property">todos</span>.<span class="title function_">filter</span>( <span class="function"><span class="params">todo</span> =&gt;</span> !todo.<span class="property">completed</span>)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// template里</span></span><br><span class="line">&lt;button <span class="keyword">class</span>=<span class="string">&quot;clear-completed&quot;</span> @click=<span class="string">&quot;clearCompleted&quot;</span>&gt;<span class="title class_">Clear</span> completed&lt;/button&gt;</span><br></pre></td></tr></table></figure>

<h3 id="底部效果"><a href="#底部效果" class="headerlink" title="底部效果"></a>底部效果</h3><p>9、当你所有的这个项目都被清除掉的话，底部的折叠效果 应该是不显示的。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//data() 里。</span></span><br><span class="line"><span class="attr">footerShow</span>: <span class="literal">false</span>  </span><br><span class="line"><span class="comment">// computed：里  （是个属性。计算属性，来放逻辑。）</span></span><br><span class="line">      <span class="title function_">footerIsShow</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">//默认页脚应隐藏，并在有待办事项时显示</span></span><br><span class="line">        <span class="comment">// len =0，不展示。</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">todos</span>.<span class="property">length</span> == <span class="number">0</span>)&#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">footerShow</span> = <span class="literal">false</span></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">footerShow</span> = <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">footerShow</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// template里。（不仅包括样式，还包括整体内的元素也不显示）</span></span><br><span class="line">    &lt;footer :<span class="keyword">class</span>=<span class="string">&quot;&#123;footer: footerIsShow&#125;&quot;</span> v-show=<span class="string">&quot;footerIsShow&quot;</span>&gt;</span><br></pre></td></tr></table></figure>

<h3 id="items"><a href="#items" class="headerlink" title="items"></a>items</h3><p>10:&gt;1项会变成items</p>
<p>未完成的为0： 0 items left! 。未完成的为1： 1 item left! 。未完成的为2： 2 items left! 。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//data() 里。</span></span><br><span class="line">        <span class="attr">leftItem</span>: <span class="string">&#x27;items&#x27;</span></span><br><span class="line"><span class="comment">// computed：里  （是个属性。计算属性，来放逻辑。）</span></span><br><span class="line">      <span class="title function_">leftItems</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">// if(this.todos.filter(todo =&gt; !todo.completed).length &lt;= 1)&#123;</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">todos</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">todo</span> =&gt;</span> !todo.<span class="property">completed</span>).<span class="property">length</span> == <span class="number">1</span>)&#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">leftItem</span> = <span class="string">&#x27;item&#x27;</span></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">leftItem</span> = <span class="string">&#x27;items&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">leftItem</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// template里。（不仅包括样式，还包括整体内的元素也不显示）</span></span><br><span class="line">      &lt;!-- <span class="title class_">This</span> should be <span class="string">`0 items left`</span> by <span class="keyword">default</span> --&gt;</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;todo-count&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>&#123;&#123; itemsLeft &#125;&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span> &#123;&#123;leftItems&#125;&#125; left<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="双击编辑"><a href="#双击编辑" class="headerlink" title="双击编辑"></a>双击编辑</h3><p>11：双击后可以做编辑。用dblclick进行内容的更改，然后再通过v-model做一个内容的控制。</p>
<blockquote>
<p>通过操作todomvc的官网，可以看到在双击编辑时类为editing。</p>
<p><img src="/posts/VueNote/830bd2954788092beaffc106faac772.png" alt="830bd2954788092beaffc106faac772" loading="lazy"></p>
</blockquote>
<ul>
<li>已经完成的也可以修改。</li>
<li>v-show使这个类双击使才展示input框。</li>
<li>尚未实现：VUE 点击其它区域触发事件 。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//data() 里。</span></span><br><span class="line">        <span class="attr">todos</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">id</span>: <span class="number">11</span>,</span><br><span class="line">            <span class="attr">title</span>: <span class="string">&#x27;事项1&#x27;</span>,</span><br><span class="line">            <span class="attr">completed</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">editing</span>: <span class="literal">false</span></span><br><span class="line">          &#125;],</span><br><span class="line"><span class="comment">// methods:里</span></span><br><span class="line">      <span class="title function_">editItem</span>(<span class="params">todo</span>)&#123; <span class="comment">//实现回车后保存，不可编辑</span></span><br><span class="line">        <span class="comment">//保存到数组里</span></span><br><span class="line">        <span class="comment">//v-model 已经实时修改了。只需改变状态。</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(todo.<span class="property">title</span>) </span><br><span class="line">        todo.<span class="property">editing</span>=<span class="literal">false</span></span><br><span class="line">        <span class="comment">// console.log(this.todos)</span></span><br><span class="line"></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">editText</span>(<span class="params">todo</span>) &#123;<span class="comment">//实现双击后可编辑</span></span><br><span class="line">        <span class="comment">//  console.log(&#x27;editText&#x27;) </span></span><br><span class="line">        <span class="comment">//  console.log(todo.title) </span></span><br><span class="line">         todo.<span class="property">editing</span>=<span class="literal">true</span></span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">// template里</span></span><br><span class="line">&lt;ul class=&quot;todo-list&quot;&gt;</span><br><span class="line">  &lt;!-- 显示列表项的结构列表项在编辑时应获得类“editing”，在标记为已完成时应获得“completed” 。所以应该是个属性,不然全部可编辑应该不对--&gt;</span><br><span class="line">  &lt;li </span><br><span class="line">  v-for=&quot;todo in filterTodos&quot; </span><br><span class="line">  :key=&quot;todo.id&quot;</span><br><span class="line">  :class=&quot;&#123;completed: todo.completed, editing:todo.editing&#125;&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;view&quot;&gt;</span><br><span class="line">      &lt;input class=&quot;toggle&quot; type=&quot;checkbox&quot; </span><br><span class="line">      v-model=&quot;todo.completed&quot;&gt;</span><br><span class="line">      &lt;label @dblclick=&quot;editText(todo)&quot; &gt;&#123;&#123;todo.title&#125;&#125; &lt;/label&gt;</span><br><span class="line">      &lt;button class=&quot;destroy&quot; @click=&quot;deleteItem(todo)&quot;&gt;&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;input :class=&quot;&#123;edit:todo.editing&#125;&quot; v-model=&quot;todo.title&quot; @keyup.enter=&quot;editItem(todo)&quot; v-show=&quot;todo.editing&quot;&gt;</span><br><span class="line">//&lt;input @dblclick=&quot;editText&quot; :class=&quot;&#123;edit:isEditing&#125;&quot;  v-show=&quot;isEditing&quot; value=&quot;Create a TodoMVC template&quot;&gt;</span><br><span class="line">  &lt;/li&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>通过操作官网，可以看到在双击编辑时类为editing，&lt;li class&#x3D;”editing”，<br>对应这个&lt;input @dblclick&#x3D;”editText” class&#x3D;”edit” value&#x3D;”Create a TodoMVC template”&gt;</p>
<p>天哪，duplicate attribute: :class，说明v-bind不能绑定2个。</p>
<ul>
<li>双击，显示todo的内容，出现编辑框。<br>回车后保存todo的内容。</li>
</ul>
<p>在编辑时应获得类“editing”，在标记为已完成时应获得“completed”</p>
<p>默认情况下是completed类，双击下是另一个类。</p>
<p>:class&#x3D;”{completed: todo.completed, editing:isEditing}”</p>
</blockquote>
</div></section><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong>吴悠</li><li class="post-copyright-link"><strong>本文链接：</strong><a target="_blank" rel="noopener" href="https://b23.tv/ZqwpomT" title="30分钟学会Vue">https://b23.tv/ZqwpomT</a></li><li class="post-copyright-license"><strong>版权声明：</strong>本博客所有文章除特别声明外，均默认采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> 许可协议。</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/posts/saolei/" rel="prev" title="扫雷"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">扫雷</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/posts/Vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="next" title="Vue学习笔记"><span class="post-nav-text">Vue学习笔记</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2024 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> Eulus</span></div><div class="live-time"><span>本博客已萌萌哒地运行</span><span id="display_live_time"></span><span class="moe-text">(●'◡'●)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2024-10-11T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = ` ${passDay} 天 ${passHour} 小时 ${passMinute} 分 ${passSecond} 秒`;
}
blog_live_time();
</script></div><div class="footer-custom-text">有资格开枪的，只有做好被射杀觉悟的人而已。</div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="搜索"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="https://fastly.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script><script src="/js/search/local-search.js" defer type="module"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><span class="icon iconify" data-icon="ri:close-line"></span></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="搜索..." value=""></div><div class="search-result-container"></div></div><script src="https://fastly.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script><script>const images = [...document.querySelectorAll('.markdown-body img')]
mediumZoom(images)</script><style>.medium-zoom-image {
  z-index: 99;
}</style></body></html>